;------------------------------------------------------------------------------------------------------
; On the fly regular expression shader patching engine
;------------------------------------------------------------------------------------------------------

;******************************************************************************************************************************************
; Set of ShaderRegex for UE5 Engine by masterotaku

;******************************************************************************************************************************************

[Constants]
;Resolution width slot.
x15 = 130
;TAA w slot.
y15 = 42


[ShaderRegexLightShaftsPS1]
shader_model = ps_4_0 ps_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightShaftsPS1.Pattern]
(?P<section1>
^\s*min (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw]), r\d+\.[xyzw], l\(1\.000000\)$\n
^\s*mad (?P<pos1>r\d+)\.(?P<pos1_x>[xyzw])(?P<pos1_y>[xyzw]), -v\d+\.[xy]{4}, cb\d+\[\d+\]\.[xyzw]{4}, cb\d+\[\d+\]\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul r\d+\.[xyzw]{2}, (?P=pos0)\.(?P=pos0_x){4}, (?P=pos1)\.[xyzw]{4}$\n
^\s*mul r\d+\.[xyzw]{2}, v\d+\.[xy]{4}, cb\d+\[\d+\]\.[xyzw]{4}$\n
)

[ShaderRegexLightShaftsPS1.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mad ${pos1}.${pos1_x}, ${stereo}.x, l(0.5), ${pos1}.${pos1_x}\n
${section2}

[ShaderRegexLightShaftsPS1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125




[ShaderRegexLightingPS1_1]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS1_1.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, [vr]\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_sw1>[xyzw]{3,4}), (?P<posy>r\d+)\.(?P<posy_sw1>[xyzw]{4}), (?P<cbuffer>cb[01])\[(?P<cb_y>\d+)\]\.(?P<cb_y_sw1>[xyzw]{4})$\n
^\s*mad (?P<pos1>r\d+)\.(?P<pos1_sw1>[xyzw]{3,4}), (?P<posx>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[(?P<cb_x>\d+)\]\.(?P<cb_x_sw1>[xyzw]{4}), (?P=pos0)\.(?P<pos0_sw2>[xyzw]{4})$\n
^\s*mad (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3,4}), (?P<posz>r\d+)\.(?P<posz_sw1>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_z>\d+)\]\.(?P<cb_z_sw1>[xyzw]{4}), (?P=pos1)\.(?P<pos1_sw2>[xyzw]{4})$\n
^\s*add (?P<pos3>r\d+)\.(?P<pos3_sw1>[xyzw]{3,4}), (?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_w>\d+)\]\.(?P<cb_w_sw1>[xyzw]{4})$\n
)
(?s)(?P<rest0>.*?)
(?P<section3>
^\s*add (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P<sign1>-?)(?P=pos3)\.(?P<pos_spec_sw>[xyzw]{4}), (?P<sign2>-?)(?P=cbuffer)\[74\]\.(?P<cb74_sw>[xyzw]{4})$\n
)

[ShaderRegexLightingPS1_1.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mad ${posx}.${swizzle_pos}, -${stereo}.x, ${depth}.${depth_x}, ${posx}.${swizzle_pos}\n
mul ${tmp2}.${pos0_sw1}, ${posy}.${posy_sw1}, ${cbuffer}[${cb_y}].${cb_y_sw1}\n
mad ${tmp2}.${pos1_sw1}, ${posx}.${swizzle_pos}, ${cbuffer}[${cb_x}].${cb_x_sw1}, ${tmp2}.${pos0_sw2}\n
mad ${tmp2}.${pos2_sw1}, ${posz}.${posz_sw1}, ${cbuffer}[${cb_z}].${cb_z_sw1}, ${tmp2}.${pos1_sw2}\n
add ${tmp2}.${pos3_sw1}, ${tmp2}.${pos2_sw2}, ${cbuffer}[${cb_w}].${cb_w_sw1}\n
mad ${posx}.${swizzle_pos}, ${stereo}.x, ${stereo}.y, ${posx}.${swizzle_pos}\n
${section2}\n
${rest0}\n
add ${pos4}.${pos4_sw1}, ${sign1}${tmp2}.${pos_spec_sw}, ${sign2}${cbuffer}[74].${cb74_sw}\n

[ShaderRegexLightingPS1_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS1_2]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS1_2.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, [vr]\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_sw1>[xyzw]{3,4}), (?P<posy>r\d+)\.(?P<posy_sw1>[xyzw]{4}), (?P<cbuffer>cb[01])\[(?P<cb_y>\d+)\]\.(?P<cb_y_sw1>[xyzw]{4})$\n
^\s*mad (?P<pos1>r\d+)\.(?P<pos1_sw1>[xyzw]{3,4}), (?P<posx>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[(?P<cb_x>\d+)\]\.(?P<cb_x_sw1>[xyzw]{4}), (?P=pos0)\.(?P<pos0_sw2>[xyzw]{4})$\n
^\s*mad (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3,4}), (?P<posz>r\d+)\.(?P<posz_sw1>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_z>\d+)\]\.(?P<cb_z_sw1>[xyzw]{4}), (?P=pos1)\.(?P<pos1_sw2>[xyzw]{4})$\n
^\s*add (?P<pos3>r\d+)\.(?P<pos3_sw1>[xyzw]{3,4}), (?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_w>\d+)\]\.(?P<cb_w_sw1>[xyzw]{4})$\n
)
(?s)(?P<rest0>.*?)
(?P<section3>
^\s*add (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P<sign1>-?)(?P=pos3)\.(?P<pos_spec_sw>[xyzw]{4}), (?P<sign2>-?)(?P=cbuffer)\[74\]\.(?P<cb74_sw>[xyzw]{4})$\n
)

[ShaderRegexLightingPS1_2.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mad ${posx}.${swizzle_pos}, -${stereo}.x, ${depth}.${depth_x}, ${posx}.${swizzle_pos}\n
mul ${tmp2}.${pos0_sw1}, ${posy}.${posy_sw1}, ${cbuffer}[${cb_y}].${cb_y_sw1}\n
mad ${tmp2}.${pos1_sw1}, ${posx}.${swizzle_pos}, ${cbuffer}[${cb_x}].${cb_x_sw1}, ${tmp2}.${pos0_sw2}\n
mad ${tmp2}.${pos2_sw1}, ${posz}.${posz_sw1}, ${cbuffer}[${cb_z}].${cb_z_sw1}, ${tmp2}.${pos1_sw2}\n
add ${tmp2}.${pos3_sw1}, ${tmp2}.${pos2_sw2}, ${cbuffer}[${cb_w}].${cb_w_sw1}\n
mad ${posx}.${swizzle_pos}, ${stereo}.x, ${stereo}.y, ${posx}.${swizzle_pos}\n
${section2}\n
${rest0}\n
add ${pos4}.${pos4_sw1}, ${sign1}${tmp2}.${pos_spec_sw}, ${sign2}${cbuffer}[74].${cb74_sw}\n

[ShaderRegexLightingPS1_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS1_3]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS1_3.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, [vr]\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_sw1>[xyzw]{3,4}), (?P<posy>r\d+)\.(?P<posy_sw1>[xyzw]{4}), (?P<cbuffer>cb[01])\[(?P<cb_y>\d+)\]\.(?P<cb_y_sw1>[xyzw]{4})$\n
^\s*mad (?P<pos1>r\d+)\.(?P<pos1_sw1>[xyzw]{3,4}), (?P<posx>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[(?P<cb_x>\d+)\]\.(?P<cb_x_sw1>[xyzw]{4}), (?P=pos0)\.(?P<pos0_sw2>[xyzw]{4})$\n
^\s*mad (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3,4}), (?P<posz>r\d+)\.(?P<posz_sw1>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_z>\d+)\]\.(?P<cb_z_sw1>[xyzw]{4}), (?P=pos1)\.(?P<pos1_sw2>[xyzw]{4})$\n
^\s*add (?P<pos3>r\d+)\.(?P<pos3_sw1>[xyzw]{3,4}), (?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_w>\d+)\]\.(?P<cb_w_sw1>[xyzw]{4})$\n
)
(?s)(?P<rest0>.*?)
(?P<section3>
^\s*add (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P<sign1>-?)(?P=pos3)\.(?P<pos_spec_sw>[xyzw]{4}), (?P<sign2>-?)(?P=cbuffer)\[74\]\.(?P<cb74_sw>[xyzw]{4})$\n
)

[ShaderRegexLightingPS1_3.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mad ${posx}.${swizzle_pos}, -${stereo}.x, ${depth}.${depth_x}, ${posx}.${swizzle_pos}\n
mul ${tmp2}.${pos0_sw1}, ${posy}.${posy_sw1}, ${cbuffer}[${cb_y}].${cb_y_sw1}\n
mad ${tmp2}.${pos1_sw1}, ${posx}.${swizzle_pos}, ${cbuffer}[${cb_x}].${cb_x_sw1}, ${tmp2}.${pos0_sw2}\n
mad ${tmp2}.${pos2_sw1}, ${posz}.${posz_sw1}, ${cbuffer}[${cb_z}].${cb_z_sw1}, ${tmp2}.${pos1_sw2}\n
add ${tmp2}.${pos3_sw1}, ${tmp2}.${pos2_sw2}, ${cbuffer}[${cb_w}].${cb_w_sw1}\n
mad ${posx}.${swizzle_pos}, ${stereo}.x, ${stereo}.y, ${posx}.${swizzle_pos}\n
${section2}\n
${rest0}\n
add ${pos4}.${pos4_sw1}, ${sign1}${tmp2}.${pos_spec_sw}, ${sign2}${cbuffer}[74].${cb74_sw}\n

[ShaderRegexLightingPS1_3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125




[ShaderRegexLightingPS2_1]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS2_1.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, [vr]\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_sw1>[xyzw]{3,4}), (?P<posy>r\d+)\.(?P<posy_sw1>[xyzw]{4}), (?P<cbuffer>cb[01])\[(?P<cb_y>\d+)\]\.(?P<cb_y_sw1>[xyzw]{4})$\n
^\s*mad (?P<pos1>r\d+)\.(?P<pos1_sw1>[xyzw]{3,4}), (?P<posx>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[(?P<cb_x>\d+)\]\.(?P<cb_x_sw1>[xyzw]{4}), (?P=pos0)\.(?P<pos0_sw2>[xyzw]{4})$\n
^\s*mad (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3,4}), (?P<posz>r\d+)\.(?P<posz_sw1>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_z>\d+)\]\.(?P<cb_z_sw1>[xyzw]{4}), (?P=pos1)\.(?P<pos1_sw2>[xyzw]{4})$\n
^\s*add (?P<pos3>r\d+)\.(?P<pos3_sw1>[xyzw]{3,4}), (?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_w>\d+)\]\.(?P<cb_w_sw1>[xyzw]{4})$\n
)
(?s)(?P<rest0>.*?)
(?P<section3>
^\s*add (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P<sign1>-?)(?P=pos3)\.(?P<pos_spec_sw>[xyzw]{4}), (?P<sign2>-?)(?P=cbuffer)\[74\]\.(?P<cb74_sw>[xyzw]{4})$\n
)

[ShaderRegexLightingPS2_1.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mad ${posx}.${swizzle_pos}, -${stereo}.x, ${depth}.${depth_x}, ${posx}.${swizzle_pos}\n
mul ${tmp2}.${pos0_sw1}, ${posy}.${posy_sw1}, ${cbuffer}[${cb_y}].${cb_y_sw1}\n
mad ${tmp2}.${pos1_sw1}, ${posx}.${swizzle_pos}, ${cbuffer}[${cb_x}].${cb_x_sw1}, ${tmp2}.${pos0_sw2}\n
mad ${tmp2}.${pos2_sw1}, ${posz}.${posz_sw1}, ${cbuffer}[${cb_z}].${cb_z_sw1}, ${tmp2}.${pos1_sw2}\n
add ${tmp2}.${pos3_sw1}, ${tmp2}.${pos2_sw2}, ${cbuffer}[${cb_w}].${cb_w_sw1}\n
mad ${posx}.${swizzle_pos}, ${stereo}.x, ${stereo}.y, ${posx}.${swizzle_pos}\n
${section2}\n
${rest0}\n
add ${pos4}.${pos4_sw1}, ${sign1}${tmp2}.${pos_spec_sw}, ${sign2}${cbuffer}[74].${cb74_sw}\n

[ShaderRegexLightingPS2_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS2_2]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS2_2.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, [vr]\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_sw1>[xyzw]{3,4}), (?P<posy>r\d+)\.(?P<posy_sw1>[xyzw]{4}), (?P<cbuffer>cb[01])\[(?P<cb_y>\d+)\]\.(?P<cb_y_sw1>[xyzw]{4})$\n
^\s*mad (?P<pos1>r\d+)\.(?P<pos1_sw1>[xyzw]{3,4}), (?P<posx>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[(?P<cb_x>\d+)\]\.(?P<cb_x_sw1>[xyzw]{4}), (?P=pos0)\.(?P<pos0_sw2>[xyzw]{4})$\n
^\s*mad (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3,4}), (?P<posz>r\d+)\.(?P<posz_sw1>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_z>\d+)\]\.(?P<cb_z_sw1>[xyzw]{4}), (?P=pos1)\.(?P<pos1_sw2>[xyzw]{4})$\n
^\s*add (?P<pos3>r\d+)\.(?P<pos3_sw1>[xyzw]{3,4}), (?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_w>\d+)\]\.(?P<cb_w_sw1>[xyzw]{4})$\n
)
(?s)(?P<rest0>.*?)
(?P<section3>
^\s*add (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P<sign1>-?)(?P=pos3)\.(?P<pos_spec_sw>[xyzw]{4}), (?P<sign2>-?)(?P=cbuffer)\[74\]\.(?P<cb74_sw>[xyzw]{4})$\n
)

[ShaderRegexLightingPS2_2.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mad ${posx}.${swizzle_pos}, -${stereo}.x, ${depth}.${depth_x}, ${posx}.${swizzle_pos}\n
mul ${tmp2}.${pos0_sw1}, ${posy}.${posy_sw1}, ${cbuffer}[${cb_y}].${cb_y_sw1}\n
mad ${tmp2}.${pos1_sw1}, ${posx}.${swizzle_pos}, ${cbuffer}[${cb_x}].${cb_x_sw1}, ${tmp2}.${pos0_sw2}\n
mad ${tmp2}.${pos2_sw1}, ${posz}.${posz_sw1}, ${cbuffer}[${cb_z}].${cb_z_sw1}, ${tmp2}.${pos1_sw2}\n
add ${tmp2}.${pos3_sw1}, ${tmp2}.${pos2_sw2}, ${cbuffer}[${cb_w}].${cb_w_sw1}\n
mad ${posx}.${swizzle_pos}, ${stereo}.x, ${stereo}.y, ${posx}.${swizzle_pos}\n
${section2}\n
${rest0}\n
add ${pos4}.${pos4_sw1}, ${sign1}${tmp2}.${pos_spec_sw}, ${sign2}${cbuffer}[74].${cb74_sw}\n

[ShaderRegexLightingPS2_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS2_3]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS2_3.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, [vr]\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_sw1>[xyzw]{3,4}), (?P<posy>r\d+)\.(?P<posy_sw1>[xyzw]{4}), (?P<cbuffer>cb[01])\[(?P<cb_y>\d+)\]\.(?P<cb_y_sw1>[xyzw]{4})$\n
^\s*mad (?P<pos1>r\d+)\.(?P<pos1_sw1>[xyzw]{3,4}), (?P<posx>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[(?P<cb_x>\d+)\]\.(?P<cb_x_sw1>[xyzw]{4}), (?P=pos0)\.(?P<pos0_sw2>[xyzw]{4})$\n
^\s*mad (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3,4}), (?P<posz>r\d+)\.(?P<posz_sw1>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_z>\d+)\]\.(?P<cb_z_sw1>[xyzw]{4}), (?P=pos1)\.(?P<pos1_sw2>[xyzw]{4})$\n
^\s*add (?P<pos3>r\d+)\.(?P<pos3_sw1>[xyzw]{3,4}), (?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_w>\d+)\]\.(?P<cb_w_sw1>[xyzw]{4})$\n
)
(?s)(?P<rest0>.*?)
(?P<section3>
^\s*add (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P<sign1>-?)(?P=pos3)\.(?P<pos_spec_sw>[xyzw]{4}), (?P<sign2>-?)(?P=cbuffer)\[74\]\.(?P<cb74_sw>[xyzw]{4})$\n
)

[ShaderRegexLightingPS2_3.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mad ${posx}.${swizzle_pos}, -${stereo}.x, ${depth}.${depth_x}, ${posx}.${swizzle_pos}\n
mul ${tmp2}.${pos0_sw1}, ${posy}.${posy_sw1}, ${cbuffer}[${cb_y}].${cb_y_sw1}\n
mad ${tmp2}.${pos1_sw1}, ${posx}.${swizzle_pos}, ${cbuffer}[${cb_x}].${cb_x_sw1}, ${tmp2}.${pos0_sw2}\n
mad ${tmp2}.${pos2_sw1}, ${posz}.${posz_sw1}, ${cbuffer}[${cb_z}].${cb_z_sw1}, ${tmp2}.${pos1_sw2}\n
add ${tmp2}.${pos3_sw1}, ${tmp2}.${pos2_sw2}, ${cbuffer}[${cb_w}].${cb_w_sw1}\n
mad ${posx}.${swizzle_pos}, ${stereo}.x, ${stereo}.y, ${posx}.${swizzle_pos}\n
${section2}\n
${rest0}\n
add ${pos4}.${pos4_sw1}, ${sign1}${tmp2}.${pos_spec_sw}, ${sign2}${cbuffer}[74].${cb74_sw}\n

[ShaderRegexLightingPS2_3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125



[ShaderRegexLightingPS4_1]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS4_1.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, [vr]\d+\.[xyzw]{4}, l\(-?\d\.000000, -?\d\.000000, -?\d\.000000, -?\d\.000000\)$\n
)
(?P<section2>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_sw1>[xyzw]{3,4}), (?P<posy>r\d+)\.(?P<posy_sw1>[xyzw]{4}), (?P<cbuffer>cb[01])\[(?P<cb_y>\d+)\]\.(?P<cb_y_sw1>[xyzw]{4})$\n
^\s*mad (?P<pos1>r\d+)\.(?P<pos1_sw1>[xyzw]{3,4}), (?P<posx>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[(?P<cb_x>\d+)\]\.(?P<cb_x_sw1>[xyzw]{4}), (?P=pos0)\.(?P<pos0_sw2>[xyzw]{4})$\n
^\s*mad (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3,4}), (?P<posz>r\d+)\.(?P<posz_x>[xyzw])(?P=posz_x){3}, (?P=cbuffer)\[(?P<cb_z>\d+)\]\.(?P<cb_z_sw1>[xyzw]{4}), (?P=pos1)\.(?P<pos1_sw2>[xyzw]{4})$\n
^\s*add (?P<pos3>r\d+)\.(?P<pos3_sw1>[xyzw]{3,4}), (?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_w>\d+)\]\.(?P<cb_w_sw1>[xyzw]{4})$\n
)
(?P<section3>
^\s*add (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P<sign1>-?)(?P=pos3)\.(?P<pos_spec_sw>[xyzw]{4}), (?P<sign2>-?)(?P=cbuffer)\[74\]\.(?P<cb74_sw>[xyzw]{4})$\n
)

[ShaderRegexLightingPS4_1.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mad ${posx}.${swizzle_pos}, -${stereo}.x, ${posz}.${posz_x}, ${posx}.${swizzle_pos}\n
mul ${tmp2}.${pos0_sw1}, ${posy}.${posy_sw1}, ${cbuffer}[${cb_y}].${cb_y_sw1}\n
mad ${tmp2}.${pos1_sw1}, ${posx}.${swizzle_pos}, ${cbuffer}[${cb_x}].${cb_x_sw1}, ${tmp2}.${pos0_sw2}\n
mad ${tmp2}.${pos2_sw1}, ${posz}.${posz_x}${posz_x}${posz_x}${posz_x}, ${cbuffer}[${cb_z}].${cb_z_sw1}, ${tmp2}.${pos1_sw2}\n
add ${tmp2}.${pos3_sw1}, ${tmp2}.${pos2_sw2}, ${cbuffer}[${cb_w}].${cb_w_sw1}\n
mad ${posx}.${swizzle_pos}, ${stereo}.x, ${stereo}.y, ${posx}.${swizzle_pos}\n
${section2}\n
add ${pos4}.${pos4_sw1}, ${sign1}${tmp2}.${pos_spec_sw}, ${sign2}${cbuffer}[74].${cb74_sw}\n

[ShaderRegexLightingPS4_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS4_2]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS4_2.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, [vr]\d+\.[xyzw]{4}, l\(-?\d\.000000, -?\d\.000000, -?\d\.000000, -?\d\.000000\)$\n
)
(?P<section2>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_sw1>[xyzw]{3,4}), (?P<posy>r\d+)\.(?P<posy_sw1>[xyzw]{4}), (?P<cbuffer>cb[01])\[(?P<cb_y>\d+)\]\.(?P<cb_y_sw1>[xyzw]{4})$\n
^\s*mad (?P<pos1>r\d+)\.(?P<pos1_sw1>[xyzw]{3,4}), (?P<posx>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[(?P<cb_x>\d+)\]\.(?P<cb_x_sw1>[xyzw]{4}), (?P=pos0)\.(?P<pos0_sw2>[xyzw]{4})$\n
^\s*mad (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3,4}), (?P<posz>r\d+)\.(?P<posz_x>[xyzw])(?P=posz_x){3}, (?P=cbuffer)\[(?P<cb_z>\d+)\]\.(?P<cb_z_sw1>[xyzw]{4}), (?P=pos1)\.(?P<pos1_sw2>[xyzw]{4})$\n
^\s*add (?P<pos3>r\d+)\.(?P<pos3_sw1>[xyzw]{3,4}), (?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_w>\d+)\]\.(?P<cb_w_sw1>[xyzw]{4})$\n
)
(?P<section3>
^\s*add (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P<sign1>-?)(?P=pos3)\.(?P<pos_spec_sw>[xyzw]{4}), (?P<sign2>-?)(?P=cbuffer)\[74\]\.(?P<cb74_sw>[xyzw]{4})$\n
)

[ShaderRegexLightingPS4_2.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mad ${posx}.${swizzle_pos}, -${stereo}.x, ${posz}.${posz_x}, ${posx}.${swizzle_pos}\n
mul ${tmp2}.${pos0_sw1}, ${posy}.${posy_sw1}, ${cbuffer}[${cb_y}].${cb_y_sw1}\n
mad ${tmp2}.${pos1_sw1}, ${posx}.${swizzle_pos}, ${cbuffer}[${cb_x}].${cb_x_sw1}, ${tmp2}.${pos0_sw2}\n
mad ${tmp2}.${pos2_sw1}, ${posz}.${posz_x}${posz_x}${posz_x}${posz_x}, ${cbuffer}[${cb_z}].${cb_z_sw1}, ${tmp2}.${pos1_sw2}\n
add ${tmp2}.${pos3_sw1}, ${tmp2}.${pos2_sw2}, ${cbuffer}[${cb_w}].${cb_w_sw1}\n
mad ${posx}.${swizzle_pos}, ${stereo}.x, ${stereo}.y, ${posx}.${swizzle_pos}\n
${section2}\n
add ${pos4}.${pos4_sw1}, ${sign1}${tmp2}.${pos_spec_sw}, ${sign2}${cbuffer}[74].${cb74_sw}\n

[ShaderRegexLightingPS4_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS4_3]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS4_3.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, [vr]\d+\.[xyzw]{4}, l\(-?\d\.000000, -?\d\.000000, -?\d\.000000, -?\d\.000000\)$\n
)
(?P<section2>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_sw1>[xyzw]{3,4}), (?P<posy>r\d+)\.(?P<posy_sw1>[xyzw]{4}), (?P<cbuffer>cb[01])\[(?P<cb_y>\d+)\]\.(?P<cb_y_sw1>[xyzw]{4})$\n
^\s*mad (?P<pos1>r\d+)\.(?P<pos1_sw1>[xyzw]{3,4}), (?P<posx>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[(?P<cb_x>\d+)\]\.(?P<cb_x_sw1>[xyzw]{4}), (?P=pos0)\.(?P<pos0_sw2>[xyzw]{4})$\n
^\s*mad (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3,4}), (?P<posz>r\d+)\.(?P<posz_x>[xyzw])(?P=posz_x){3}, (?P=cbuffer)\[(?P<cb_z>\d+)\]\.(?P<cb_z_sw1>[xyzw]{4}), (?P=pos1)\.(?P<pos1_sw2>[xyzw]{4})$\n
^\s*add (?P<pos3>r\d+)\.(?P<pos3_sw1>[xyzw]{3,4}), (?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_w>\d+)\]\.(?P<cb_w_sw1>[xyzw]{4})$\n
)
(?P<section3>
^\s*add (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P<sign1>-?)(?P=pos3)\.(?P<pos_spec_sw>[xyzw]{4}), (?P<sign2>-?)(?P=cbuffer)\[74\]\.(?P<cb74_sw>[xyzw]{4})$\n
)

[ShaderRegexLightingPS4_3.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mad ${posx}.${swizzle_pos}, -${stereo}.x, ${posz}.${posz_x}, ${posx}.${swizzle_pos}\n
mul ${tmp2}.${pos0_sw1}, ${posy}.${posy_sw1}, ${cbuffer}[${cb_y}].${cb_y_sw1}\n
mad ${tmp2}.${pos1_sw1}, ${posx}.${swizzle_pos}, ${cbuffer}[${cb_x}].${cb_x_sw1}, ${tmp2}.${pos0_sw2}\n
mad ${tmp2}.${pos2_sw1}, ${posz}.${posz_x}${posz_x}${posz_x}${posz_x}, ${cbuffer}[${cb_z}].${cb_z_sw1}, ${tmp2}.${pos1_sw2}\n
add ${tmp2}.${pos3_sw1}, ${tmp2}.${pos2_sw2}, ${cbuffer}[${cb_w}].${cb_w_sw1}\n
mad ${posx}.${swizzle_pos}, ${stereo}.x, ${stereo}.y, ${posx}.${swizzle_pos}\n
${section2}\n
add ${pos4}.${pos4_sw1}, ${sign1}${tmp2}.${pos_spec_sw}, ${sign2}${cbuffer}[74].${cb74_sw}\n

[ShaderRegexLightingPS4_3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125




[ShaderRegexLightingPS5_1]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS5_1.Pattern]
(?P<section1>
^\s*movc r\d+\.[xyzw]{1,2}, cb\d+\[\d+\]\.[xyzw]{1,4}, r\d+\.[xyzw]{1,4}, r\d+\.[xyzw]{1,4}$\n
)
(?P<section2>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_sw1>[xyzw]{3,4}), (?P<posy>r\d+)\.(?P<posy_sw1>[xyzw]{4}), (?P<cbuffer>cb[01])\[(?P<cb_y>\d+)\]\.(?P<cb_y_sw1>[xyzw]{4})$\n
^\s*mad (?P<pos1>r\d+)\.(?P<pos1_sw1>[xyzw]{3,4}), (?P<posx>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[(?P<cb_x>\d+)\]\.(?P<cb_x_sw1>[xyzw]{4}), (?P=pos0)\.(?P<pos0_sw2>[xyzw]{4})$\n
^\s*mad (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3,4}), (?P<posz>r\d+)\.(?P<posz_x>[xyzw])(?P=posz_x){3}, (?P=cbuffer)\[(?P<cb_z>\d+)\]\.(?P<cb_z_sw1>[xyzw]{4}), (?P=pos1)\.(?P<pos1_sw2>[xyzw]{4})$\n
^\s*add (?P<pos3>r\d+)\.(?P<pos3_sw1>[xyzw]{3,4}), (?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P=cbuffer)\[(?P<cb_w>\d+)\]\.(?P<cb_w_sw1>[xyzw]{4})$\n
)
(?P<section3>
^\s*add (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P<sign1>-?)(?P=pos3)\.(?P<pos_spec_sw>[xyzw]{4}), (?P<sign2>-?)(?P=cbuffer)\[74\]\.(?P<cb74_sw>[xyzw]{4})$\n
)

[ShaderRegexLightingPS5_1.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mad ${posx}.${swizzle_pos}, -${stereo}.x, ${posz}.${posz_x}, ${posx}.${swizzle_pos}\n
mul ${tmp2}.${pos0_sw1}, ${posy}.${posy_sw1}, ${cbuffer}[${cb_y}].${cb_y_sw1}\n
mad ${tmp2}.${pos1_sw1}, ${posx}.${swizzle_pos}, ${cbuffer}[${cb_x}].${cb_x_sw1}, ${tmp2}.${pos0_sw2}\n
mad ${tmp2}.${pos2_sw1}, ${posz}.${posz_x}${posz_x}${posz_x}${posz_x}, ${cbuffer}[${cb_z}].${cb_z_sw1}, ${tmp2}.${pos1_sw2}\n
add ${tmp2}.${pos3_sw1}, ${tmp2}.${pos2_sw2}, ${cbuffer}[${cb_w}].${cb_w_sw1}\n
mad ${posx}.${swizzle_pos}, ${stereo}.x, ${stereo}.y, ${posx}.${swizzle_pos}\n
${section2}\n
add ${pos4}.${pos4_sw1}, ${sign1}${tmp2}.${pos_spec_sw}, ${sign2}${cbuffer}[74].${cb74_sw}\n

[ShaderRegexLightingPS5_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125






[ShaderRegexLightingPS0_1_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexLightingPS0_1_nospec.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, [vr]\d+\.[xyzw]{4}$\n
^\s*mul r\d+\.[xyzw]{2}, [vr]\d+\.[xyzw]{4}, [vr]\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P<cbuffer>cb[01])\[\d+\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P<pos>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P=depth)\.(?P=depth_x){4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS0_1_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos}.${swizzle_pos}, -${tmp1}.x, ${stereo}.x, ${pos}.${swizzle_pos}\n
${section2}

[ShaderRegexLightingPS0_1_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125


[ShaderRegexLightingPS0_2_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexLightingPS0_2_nospec.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, [vr]\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
^\s*mul r\d+\.[xyzw]{2}, [vr]\d+\.[xyzw]{4}, [vr]\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P<cbuffer>cb[01])\[\d+\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P<pos>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P=depth)\.(?P=depth_x){4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS0_2_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos}.${swizzle_pos}, -${tmp1}.x, ${stereo}.x, ${pos}.${swizzle_pos}\n
${section2}

[ShaderRegexLightingPS0_2_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125





[ShaderRegexLightingPS1_1_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexLightingPS1_1_nospec.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, [vr]\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P<cbuffer>cb[01])\[\d+\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P<pos>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS1_1_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos}.${swizzle_pos}, -${tmp1}.x, ${stereo}.x, ${pos}.${swizzle_pos}\n
${section2}

[ShaderRegexLightingPS1_1_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS1_2_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexLightingPS1_2_nospec.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, [vr]\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P<cbuffer>cb[01])\[\d+\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P<pos>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS1_2_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos}.${swizzle_pos}, -${tmp1}.x, ${stereo}.x, ${pos}.${swizzle_pos}\n
${section2}

[ShaderRegexLightingPS1_2_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS1_3_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexLightingPS1_3_nospec.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, [vr]\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P<cbuffer>cb[01])\[\d+\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P<pos>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS1_3_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos}.${swizzle_pos}, -${tmp1}.x, ${stereo}.x, ${pos}.${swizzle_pos}\n
${section2}

[ShaderRegexLightingPS1_3_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS1_4_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexLightingPS1_4_nospec.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, [vr]\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P<cbuffer>cb[01])\[\d+\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P<pos>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS1_4_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos}.${swizzle_pos}, -${tmp1}.x, ${stereo}.x, ${pos}.${swizzle_pos}\n
${section2}

[ShaderRegexLightingPS1_4_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS1_5_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexLightingPS1_5_nospec.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, [vr]\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P<cbuffer>cb[01])\[\d+\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P<pos>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS1_5_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos}.${swizzle_pos}, -${tmp1}.x, ${stereo}.x, ${pos}.${swizzle_pos}\n
${section2}

[ShaderRegexLightingPS1_5_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125



[ShaderRegexLightingPS6_1_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexLightingPS6_1_nospec.Pattern]
(?P<section1>
^\s*min r\d+\.[xyzw], r\d+\.[xyzw], l\(\d.000000\)$\n
)
(?P<section2>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P<cbuffer>cb[01])\[57\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P<pos>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[56\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw]){4}, (?P=cbuffer)\[58\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[59\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS6_1_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos}.${swizzle_pos}, -${tmp1}.x, ${stereo}.x, ${pos}.${swizzle_pos}\n
${section2}

[ShaderRegexLightingPS6_1_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125




[ShaderRegexLightingPS2_1_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexLightingPS2_1_nospec.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, [vr]\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P<cbuffer>cb[01])\[\d+\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P<pos>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS2_1_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos}.${swizzle_pos}, -${tmp1}.x, ${stereo}.x, ${pos}.${swizzle_pos}\n
${section2}

[ShaderRegexLightingPS2_1_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS2_2_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexLightingPS2_2_nospec.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, [vr]\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P<cbuffer>cb[01])\[\d+\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P<pos>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS2_2_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos}.${swizzle_pos}, -${tmp1}.x, ${stereo}.x, ${pos}.${swizzle_pos}\n
${section2}

[ShaderRegexLightingPS2_2_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS2_3_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexLightingPS2_3_nospec.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, [vr]\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P<cbuffer>cb[01])\[\d+\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P<pos>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS2_3_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos}.${swizzle_pos}, -${tmp1}.x, ${stereo}.x, ${pos}.${swizzle_pos}\n
${section2}

[ShaderRegexLightingPS2_3_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS2_4_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexLightingPS2_4_nospec.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, [vr]\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P<cbuffer>cb[01])\[\d+\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P<pos>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS2_4_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos}.${swizzle_pos}, -${tmp1}.x, ${stereo}.x, ${pos}.${swizzle_pos}\n
${section2}

[ShaderRegexLightingPS2_4_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS2_5_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexLightingPS2_5_nospec.Pattern]
(?P<section1>
^\s*mul r\d+\.[xyzw]{2}, [vr]\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P<cbuffer>cb[01])\[\d+\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, (?P<pos>r\d+)\.(?P<swizzle_pos>[xyzw])[xyzw]{3}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, (?P=cbuffer)\[\d+\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS2_5_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos}.${swizzle_pos}, -${tmp1}.x, ${stereo}.x, ${pos}.${swizzle_pos}\n
${section2}

[ShaderRegexLightingPS2_5_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125



[ShaderRegexLightingPS3_1]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS3_1.Pattern]
(?P<section1>
^\s*movc (?P<depth>r\d+)\.(?P<depth_x>[xyzw]), r\d+\.[xyzw], r\d+\.[xyzw], r\d+\.[xyzw]$\n
)
(?P<section2>
^\s*mul (?P<pos0>r\d+)\.xyzw, (?P<posy>r\d+)\.(?P<posy_sw1>[xyzw]{4}), (?P<cbuffer>cb[01])\[5\]\.xyzw$\n
^\s*mad (?P<pos1>r\d+)\.xyzw, (?P<posx>r\d+)\.(?P<pos_x>[xyzw])[xyzw]{3}, (?P=cbuffer)\[4\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*mad (?P<pos2>r\d+)\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cbuffer)\[6\]\.xyzw, (?P=pos1)\.xyzw$\n
^\s*add (?P<pos3>r\d+)\.xyzw, (?P=pos2)\.xyzw, (?P=cbuffer)\[7\]\.xyzw$\n
^\s*div (?P<pos4>r\d+)\.xyz, (?P=pos3)\.xyzx, (?P=pos3)\.wwww$\n
^\s*add r\d+\.[xyzw]{3,4}, -?r\d+\.[xyzw]{4}, (?P=pos4)\.[xyzw]{4}$\n
)
(?P<section3>
^\s*add (?P<pos5>r\d+)\.(?P<pos5_sw1>[xyzw]{3}), (?P<sign1>-?)(?P=pos4)\.(?P<pos_spec_sw>[xyzw]{4}), (?P<sign2>-?)(?P<cbuffer1>cb[01])\[74\]\.(?P<cb74_sw>[xyzw]{4})$\n
)

[ShaderRegexLightingPS3_1.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${posx}.${pos_x}, -${stereo}.x, ${posx}.${pos_x}\n
mul ${tmp2}.xyzw, ${posy}.${posy_sw1}, ${cbuffer}[5].xyzw\n
mad ${tmp2}.xyzw, ${posx}.${pos_x}${pos_x}${pos_x}${pos_x}, ${cbuffer}[4].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cbuffer}[6].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cbuffer}[7].xyzw\n
div ${tmp2}.xyz, ${tmp2}.xyzx, ${tmp2}.xyzw\n
mul ${tmp1}.x, ${stereo}.y, ${tmp2}.w\n
mad ${posx}.${pos_x}, ${stereo}.x, ${tmp1}.x, ${posx}.${pos_x}\n
${section2}\n
add ${pos5}.${pos5_sw1}, ${sign1}${tmp2}.${pos_spec_sw}, -${cbuffer1}[74].${cb74_sw}\n

[ShaderRegexLightingPS3_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125


[ShaderRegexLightingPS3_2]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS3_2.Pattern]
(?P<section1>
^\s*movc (?P<depth>r\d+)\.(?P<depth_x>[xyzw]), r\d+\.[xyzw], r\d+\.[xyzw], r\d+\.[xyzw]$\n
)
(?P<section2>
^\s*mul (?P<pos0>r\d+)\.xyzw, (?P<posy>r\d+)\.(?P<posy_sw1>[xyzw]{4}), (?P<cbuffer>cb[01])\[5\]\.xyzw$\n
^\s*mad (?P<pos1>r\d+)\.xyzw, (?P<posx>r\d+)\.(?P<pos_x>[xyzw])[xyzw]{3}, (?P=cbuffer)\[4\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*mad (?P<pos2>r\d+)\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cbuffer)\[6\]\.xyzw, (?P=pos1)\.xyzw$\n
^\s*add (?P<pos3>r\d+)\.xyzw, (?P=pos2)\.xyzw, (?P=cbuffer)\[7\]\.xyzw$\n
^\s*div (?P<pos4>r\d+)\.xyz, (?P=pos3)\.xyzx, (?P=pos3)\.wwww$\n
^\s*add r\d+\.[xyzw]{3,4}, -?r\d+\.[xyzw]{4}, (?P=pos4)\.[xyzw]{4}$\n
)
(?P<section3>
^\s*add (?P<pos5>r\d+)\.(?P<pos5_sw1>[xyzw]{3}), (?P<sign1>-?)(?P=pos4)\.(?P<pos_spec_sw>[xyzw]{4}), (?P<sign2>-?)(?P<cbuffer1>cb[01])\[74\]\.(?P<cb74_sw>[xyzw]{4})$\n
)

[ShaderRegexLightingPS3_2.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${posx}.${pos_x}, -${stereo}.x, ${posx}.${pos_x}\n
mul ${tmp2}.xyzw, ${posy}.${posy_sw1}, ${cbuffer}[5].xyzw\n
mad ${tmp2}.xyzw, ${posx}.${pos_x}${pos_x}${pos_x}${pos_x}, ${cbuffer}[4].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cbuffer}[6].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cbuffer}[7].xyzw\n
div ${tmp2}.xyz, ${tmp2}.xyzx, ${tmp2}.xyzw\n
mul ${tmp1}.x, ${stereo}.y, ${tmp2}.w\n
mad ${posx}.${pos_x}, ${stereo}.x, ${tmp1}.x, ${posx}.${pos_x}\n
${section2}\n
add ${pos5}.${pos5_sw1}, ${sign1}${tmp2}.${pos_spec_sw}, -${cbuffer1}[74].${cb74_sw}\n

[ShaderRegexLightingPS3_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125




[ShaderRegexLightingPS3z_1_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS3z_1_nospec.Pattern]
(?P<section1>
^\s*movc (?P<depth>r\d+)\.(?P<depth_x>[xyzw]), r\d+\.[xyzw], r\d+\.[xyzw], r\d+\.[xyzw]$\n
)
(?P<section2>
^\s*mul r\d+\.xyzw, (?P<pos>r\d+)\.(?P<pos_y>[xyzw]){4}, (?P<cbuffer>cb[01])\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*mad r\d+\.xyzw, (?P=pos)\.(?P<pos_x>[xyzw]){4}, (?P=cbuffer)\[(?P<cb_x>\d+)\]\.[xyzw]{4}, r\d+\.xyzw\n
^\s*mad r\d+\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cbuffer)\[(?P<cb_z>\d+)\]\.[xyzw]{4}, r\d+\.xyzw$\n
^\s*add r\d+\.xyzw, r\d+\.xyzw, (?P=cbuffer)\[(?P<cb_w>\d+)\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS3z_1_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mul ${tmp2}.xyzw, ${pos}.${pos_y}${pos_y}${pos_y}${pos_y}, ${cbuffer}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${pos}.${pos_x}${pos_x}${pos_x}${pos_x}, ${cbuffer}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cbuffer}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cbuffer}[${cb_w}].xyzw\n
mad ${tmp1}.x, ${stereo}.y, ${tmp2}.w, l(-1.0)\n
mad ${pos}.${pos_x}, ${stereo}.x, ${tmp1}.x, ${pos}.${pos_x}\n
${section2}

[ShaderRegexLightingPS3z_1_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS3z_2_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS3z_2_nospec.Pattern]
(?P<section1>
^\s*movc (?P<depth>r\d+)\.(?P<depth_x>[xyzw]), r\d+\.[xyzw], r\d+\.[xyzw], r\d+\.[xyzw]$\n
)
(?P<section2>
^\s*mul r\d+\.xyzw, (?P<pos>r\d+)\.(?P<pos_y>[xyzw]){4}, (?P<cbuffer>cb[01])\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*mad r\d+\.xyzw, (?P=pos)\.(?P<pos_x>[xyzw]){4}, (?P=cbuffer)\[(?P<cb_x>\d+)\]\.[xyzw]{4}, r\d+\.xyzw\n
^\s*mad r\d+\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cbuffer)\[(?P<cb_z>\d+)\]\.[xyzw]{4}, r\d+\.xyzw$\n
^\s*add r\d+\.xyzw, r\d+\.xyzw, (?P=cbuffer)\[(?P<cb_w>\d+)\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS3z_2_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mul ${tmp2}.xyzw, ${pos}.${pos_y}${pos_y}${pos_y}${pos_y}, ${cbuffer}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${pos}.${pos_x}${pos_x}${pos_x}${pos_x}, ${cbuffer}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cbuffer}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cbuffer}[${cb_w}].xyzw\n
mad ${tmp1}.x, ${stereo}.y, ${tmp2}.w, l(-1.0)\n
mad ${pos}.${pos_x}, ${stereo}.x, ${tmp1}.x, ${pos}.${pos_x}\n
${section2}

[ShaderRegexLightingPS3z_2_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS3z_3_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS3z_3_nospec.Pattern]
(?P<section1>
^\s*movc (?P<depth>r\d+)\.(?P<depth_x>[xyzw]), r\d+\.[xyzw], r\d+\.[xyzw], r\d+\.[xyzw]$\n
)
(?P<section2>
^\s*mul r\d+\.xyzw, (?P<pos>r\d+)\.(?P<pos_y>[xyzw]){4}, (?P<cbuffer>cb[01])\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*mad r\d+\.xyzw, (?P=pos)\.(?P<pos_x>[xyzw]){4}, (?P=cbuffer)\[(?P<cb_x>\d+)\]\.[xyzw]{4}, r\d+\.xyzw\n
^\s*mad r\d+\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cbuffer)\[(?P<cb_z>\d+)\]\.[xyzw]{4}, r\d+\.xyzw$\n
^\s*add r\d+\.xyzw, r\d+\.xyzw, (?P=cbuffer)\[(?P<cb_w>\d+)\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS3z_3_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mul ${tmp2}.xyzw, ${pos}.${pos_y}${pos_y}${pos_y}${pos_y}, ${cbuffer}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${pos}.${pos_x}${pos_x}${pos_x}${pos_x}, ${cbuffer}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cbuffer}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cbuffer}[${cb_w}].xyzw\n
mad ${tmp1}.x, ${stereo}.y, ${tmp2}.w, l(-1.0)\n
mad ${pos}.${pos_x}, ${stereo}.x, ${tmp1}.x, ${pos}.${pos_x}\n
${section2}

[ShaderRegexLightingPS3z_3_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS3z_4_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS3z_4_nospec.Pattern]
(?P<section1>
^\s*movc (?P<depth>r\d+)\.(?P<depth_x>[xyzw]), r\d+\.[xyzw], r\d+\.[xyzw], r\d+\.[xyzw]$\n
)
(?P<section2>
^\s*mul r\d+\.xyzw, (?P<pos>r\d+)\.(?P<pos_y>[xyzw]){4}, (?P<cbuffer>cb[01])\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*mad r\d+\.xyzw, (?P=pos)\.(?P<pos_x>[xyzw]){4}, (?P=cbuffer)\[(?P<cb_x>\d+)\]\.[xyzw]{4}, r\d+\.xyzw\n
^\s*mad r\d+\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cbuffer)\[(?P<cb_z>\d+)\]\.[xyzw]{4}, r\d+\.xyzw$\n
^\s*add r\d+\.xyzw, r\d+\.xyzw, (?P=cbuffer)\[(?P<cb_w>\d+)\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS3z_4_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mul ${tmp2}.xyzw, ${pos}.${pos_y}${pos_y}${pos_y}${pos_y}, ${cbuffer}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${pos}.${pos_x}${pos_x}${pos_x}${pos_x}, ${cbuffer}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cbuffer}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cbuffer}[${cb_w}].xyzw\n
mad ${tmp1}.x, ${stereo}.y, ${tmp2}.w, l(-1.0)\n
mad ${pos}.${pos_x}, ${stereo}.x, ${tmp1}.x, ${pos}.${pos_x}\n
${section2}

[ShaderRegexLightingPS3z_4_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexLightingPS3z_5_nospec]
shader_model = ps_4_0 ps_5_0 cs_5_0
temps = stereo tmp1 tmp2

[ShaderRegexLightingPS3z_5_nospec.Pattern]
(?P<section1>
^\s*movc (?P<depth>r\d+)\.(?P<depth_x>[xyzw]), r\d+\.[xyzw], r\d+\.[xyzw], r\d+\.[xyzw]$\n
)
(?P<section2>
^\s*mul r\d+\.xyzw, (?P<pos>r\d+)\.(?P<pos_y>[xyzw]){4}, (?P<cbuffer>cb[01])\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*mad r\d+\.xyzw, (?P=pos)\.(?P<pos_x>[xyzw]){4}, (?P=cbuffer)\[(?P<cb_x>\d+)\]\.[xyzw]{4}, r\d+\.xyzw\n
^\s*mad r\d+\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cbuffer)\[(?P<cb_z>\d+)\]\.[xyzw]{4}, r\d+\.xyzw$\n
^\s*add r\d+\.xyzw, r\d+\.xyzw, (?P=cbuffer)\[(?P<cb_w>\d+)\]\.[xyzw]{4}$\n
)

[ShaderRegexLightingPS3z_5_nospec.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mul ${tmp2}.xyzw, ${pos}.${pos_y}${pos_y}${pos_y}${pos_y}, ${cbuffer}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${pos}.${pos_x}${pos_x}${pos_x}${pos_x}, ${cbuffer}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cbuffer}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cbuffer}[${cb_w}].xyzw\n
mad ${tmp1}.x, ${stereo}.y, ${tmp2}.w, l(-1.0)\n
mad ${pos}.${pos_x}, ${stereo}.x, ${tmp1}.x, ${pos}.${pos_x}\n
${section2}

[ShaderRegexLightingPS3z_5_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125



[ShaderRegexDecalsPS1Double]
shader_model = ps_5_0 cs_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 tmp4
[ShaderRegexDecalsPS1Double.Pattern]
(?P<section0>
^\s*?mul r\d+\.xy, v\d+\.xyxx, (?P<cb1>cb\d+)\[132\]\.zwzz$\n
^\s*?sample_l_indexable\(texture2d\)\(float,float,float,float\) (?P<depth>r\d+)\.(?P<depth_x>[xyzw]), r\d+\.xyxx, t\d+\.[xyzw]{4}, s\d+, l\(0\.000000\)$\n
)
(?P<section1>
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mad (?P<pos1>r\d+)\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos1)\.xyzw, (?P=pos1)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n
)
(?s)(?P<rest0>^.*?$)\n
(?P<section2>
^\s*?mul (?P<pos2>r\d+)\.xyzw, (?P=in0)\.(?P=in0_y){4}, (?P<cb2>cb\d+)\[(?P<cb2_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos2)\.xyzw, (?P=in0)\.(?P=in0_x){4}, (?P=cb2)\[(?P<cb2_x>\d+)\]\.xyzw, (?P=pos2)\.xyzw$\n
^\s*?mad (?P<pos3>r\d+)\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cb2)\[(?P<cb2_z>\d+)\]\.xyzw, (?P=pos2)\.xyzw$\n
^\s*?add (?P=pos3)\.xyzw, (?P=pos3)\.xyzw, (?P=cb2)\[(?P<cb2_w>\d+)\]\.xyzw$\n
^\s*?div (?P<pos4>r\d+)\.xyz, (?P=pos3)\.(?P<pos3_sw1>[xyzw]{4}), (?P=pos3)\.wwww$\n
)
(?P<section2a>
^\s*?add r\d+\.[xyzw]{3}, -r\d+\.[xyzw]{4}, (?P=cb2)\[74\]\.[xyzw]{4}$\n
)
(?s)(?P<rest1>^.*?$)\n
(?P<section3>
^\s*?add (?P<pos5>r\d+)\.(?P<pos5_sw1>[xyzw]{3}), (?P=pos4)\.(?P<pos4_sw1>[xyzw]{4}), -(?P=cb2)\[76\]\.(?P<cb2_sw1>[xyzw]{4})$\n
)

[ShaderRegexDecalsPS1Double.Pattern.Replace]
${section0}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mov ${tmp1}.y, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
mul ${tmp4}.x, l(0.5), ${cb1}[${iniparams15u}.x + 0].x\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mad ${tmp1}.y, -${stereo}.x, ${tmp4}.x, ${tmp1}.y\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
//Pattern break.\n
mad ${pos1}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos1}.xyzw, ${pos1}.xyzw, ${cb}[${cb_w}].xyzw\n
${rest0}\n
mul ${tmp3}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb2}[${cb2_y}].xyzw\n
mad ${tmp3}.xyzw, ${tmp1}.yyyy, ${cb2}[${cb2_x}].xyzw, ${tmp3}.xyzw\n
//Pattern break.\n
mad ${tmp3}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb2}[${cb2_z}].xyzw, ${tmp3}.xyzw\n
add ${tmp3}.xyzw, ${tmp3}.xyzw, ${cb2}[${cb2_w}].xyzw\n
div ${tmp3}.xyz, ${tmp3}.${pos3_sw1}, ${tmp3}.wwww\n
//End of full depth block.\n
mul ${pos2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb2}[${cb2_y}].xyzw\n
mad ${pos2}.xyzw, ${tmp1}.xxxx, ${cb2}[${cb2_x}].xyzw, ${pos2}.xyzw\n
//Pattern break.\n
mad ${pos3}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb2}[${cb2_z}].xyzw, ${pos2}.xyzw\n
add ${pos3}.xyzw, ${pos3}.xyzw, ${cb2}[${cb2_w}].xyzw\n
div ${pos4}.xyz, ${pos3}.${pos3_sw1}, ${pos3}.wwww\n
${rest1}\n
add ${pos5}.${pos5_sw1}, ${tmp3}.${pos4_sw1}, -${cb2}[76].${cb2_sw1}\n

[ShaderRegexDecalsPS1Double.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120



[ShaderRegexDecalsPS1Double_nospec]
shader_model = ps_5_0 cs_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp4
[ShaderRegexDecalsPS1Double_nospec.Pattern]
(?P<section0>
^\s*?mul r\d+\.xy, v\d+\.xyxx, (?P<cb1>cb\d+)\[132\]\.zwzz$\n
^\s*?sample_l_indexable\(texture2d\)\(float,float,float,float\) (?P<depth>r\d+)\.(?P<depth_x>[xyzw]), r\d+\.xyxx, t\d+\.[xyzw]{4}, s\d+, l\(0\.000000\)$\n
)
(?P<section1>
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mad (?P<pos1>r\d+)\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos1)\.xyzw, (?P=pos1)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n
)
(?s)(?P<rest0>^.*?$)\n
(?P<section2>
^\s*?mul (?P<pos2>r\d+)\.xyzw, (?P=in0)\.(?P=in0_y){4}, (?P<cb2>cb\d+)\[(?P<cb2_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos2)\.xyzw, (?P=in0)\.(?P=in0_x){4}, (?P=cb2)\[(?P<cb2_x>\d+)\]\.xyzw, (?P=pos2)\.xyzw$\n
^\s*?mad (?P<pos3>r\d+)\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cb2)\[(?P<cb2_z>\d+)\]\.xyzw, (?P=pos2)\.xyzw$\n
^\s*?add (?P=pos3)\.xyzw, (?P=pos3)\.xyzw, (?P=cb2)\[(?P<cb2_w>\d+)\]\.xyzw$\n
)

[ShaderRegexDecalsPS1Double_nospec.Pattern.Replace]
${section0}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
mul ${tmp4}.x, l(0.5), ${cb1}[${iniparams15u}.x + 0].x\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
//Pattern break.\n
mad ${pos1}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos1}.xyzw, ${pos1}.xyzw, ${cb}[${cb_w}].xyzw\n
${rest0}\n
mul ${pos2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb2}[${cb2_y}].xyzw\n
mad ${pos2}.xyzw, ${tmp1}.xxxx, ${cb2}[${cb2_x}].xyzw, ${pos2}.xyzw\n
//Pattern break.\n
mad ${pos3}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb2}[${cb2_z}].xyzw, ${pos2}.xyzw\n
add ${pos3}.xyzw, ${pos3}.xyzw, ${cb2}[${cb2_w}].xyzw\n

[ShaderRegexDecalsPS1Double_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120



[ShaderRegexDecalsPS1Simple]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp4
[ShaderRegexDecalsPS1Simple.Pattern]
(?P<section0>
^\s*?mul r\d+\.xy, v\d+\.xyxx, (?P<cb1>cb\d+)\[132\]\.zwzz$\n
^\s*?sample_l_indexable\(texture2d\)\(float,float,float,float\) (?P<depth>r\d+)\.(?P<depth_x>[xyzw]), r\d+\.xyxx, t\d+\.[xyzw]{4}, s\d+, l\(0\.000000\)$\n
)
(?P<section1>
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mad (?P<pos1>r\d+)\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos1)\.xyzw, (?P=pos1)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n
)

[ShaderRegexDecalsPS1Simple.Pattern.Replace]
${section0}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
mul ${tmp4}.x, l(0.5), ${cb1}[${iniparams15u}.x + 0].x\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
//Pattern break.\n
mad ${pos1}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos1}.xyzw, ${pos1}.xyzw, ${cb}[${cb_w}].xyzw\n

[ShaderRegexDecalsPS1Simple.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120


[ShaderRegexDecalsPS2Double]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 tmp4 tmp5
[ShaderRegexDecalsPS2Double.Pattern]
(?P<section0>
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mul (?P<pos1>r\d+)\.xy, (?P=in0)\.(?P<in0_sw>[xyzw]{4}), (?P<cb1>cb\d+)\[132\]\.zwzz$\n
^\s*?sample_l_indexable\(texture2d\)\(float,float,float,float\) (?P<depth>r\d+)\.(?P<depth_x>[xyzw]), (?P=pos1)\.xyxx, t(?P<t_num>\d+)\.(?P<t_sw>[xyzw]{4}), s(?P<s_num>\d+), l\(0\.000000\)$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n
)
(?s)(?P<rest0>^.*?$)\n
(?P<section1>
^\s*?mul (?P<pos2>r\d+)\.xyzw, (?P=in0)\.(?P=in0_y){4}, (?P<cb2>cb\d+)\[(?P<cb2_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos2)\.xyzw, (?P=in0)\.(?P=in0_x){4}, (?P=cb2)\[(?P<cb2_x>\d+)\]\.xyzw, (?P=pos2)\.xyzw$\n
^\s*?mad (?P<pos3>r\d+)\.xyzw, (?P<depth1>r\d+)\.(?P<depth1_x>[xyzw]){4}, (?P=cb2)\[(?P<cb2_z>\d+)\]\.xyzw, (?P=pos2)\.xyzw$\n
^\s*?add (?P=pos3)\.xyzw, (?P=pos3)\.xyzw, (?P=cb2)\[(?P<cb2_w>\d+)\]\.xyzw$\n
)

[ShaderRegexDecalsPS2Double.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
mul ${tmp3}.xy, ${in0}.${in0_sw}, ${cb1}[132].zwzz\n
sample_l_indexable(texture2d)(float,float,float,float) ${tmp4}.${depth_x}, ${tmp3}.xyxx, t${t_num}.${t_sw}, s${s_num}, l(0.000000)\n
mad ${tmp2}.xyzw, ${tmp4}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
mul ${tmp5}.x, l(0.5), ${cb1}[${iniparams15u}.x + 0].x\n
mad ${tmp5}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp5}.y, ${tmp5}.y, ${tmp5}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp5}.y, ${tmp1}.x\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
mul ${pos1}.xy, ${in0}.${in0_sw}, ${cb1}[132].zwzz\n
sample_l_indexable(texture2d)(float,float,float,float) ${depth}.${depth_x}, ${pos1}.xyxx, t${t_num}.${t_sw}, s${s_num}, l(0.000000)\n
mad ${pos0}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos0}.xyzw, ${pos0}.xyzw, ${cb}[${cb_w}].xyzw\n
${rest0}\n
mul ${pos2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb2}[${cb2_y}].xyzw\n
mad ${pos2}.xyzw, ${tmp1}.xxxx, ${cb2}[${cb2_x}].xyzw, ${pos2}.xyzw\n
//Pattern break.\n
mad ${pos3}.xyzw, ${depth1}.${depth1_x}${depth1_x}${depth1_x}${depth1_x}, ${cb2}[${cb2_z}].xyzw, ${pos2}.xyzw\n
add ${pos3}.xyzw, ${pos3}.xyzw, ${cb2}[${cb2_w}].xyzw\n

[ShaderRegexDecalsPS2Double.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120





[ShaderRegexDecalsPS3Double]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 tmp4 tmp5
[ShaderRegexDecalsPS3Double.Pattern]
(?P<section0>
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mul (?P<pos1>r\d+)\.xy, (?P=in0)\.(?P<in0_sw>[xyzw]{4}), (?P<cb1>cb\d+)\[132\]\.zwzz$\n
^\s*?sample_l_indexable\(texture2d\)\(float,float,float,float\) (?P<depth>r\d+)\.(?P<depth_x>[xyzw]), (?P=pos1)\.xyxx, t(?P<t_num>\d+)\.(?P<t_sw>[xyzw]{4}), s(?P<s_num>\d+), l\(0\.000000\)$\n
^\s*?sample_l_indexable\(texture2d\)\(float,float,float,float\) (?P<posm0>r\d+)\.xyw, (?P=pos1)\.xyxx, t(?P<t_num1>\d+)\.(?P<t1_sw>[xyzw]{4}), s(?P<s1_num>\d+), l\(0\.000000\)$\n
^\s*?mad (?P=posm0)\.xyw, (?P=posm0)\.xyxw, l\(2\.000000, 2\.000000, 0\.000000, 2\.000000\), l\(-1\.000000, -1\.000000, 0\.000000, -1\.000000\)$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n
)
(?s)(?P<rest0>^.*?$)\n
(?P<section1>
^\s*?mul (?P<pos2>r\d+)\.xyzw, (?P=in0)\.(?P=in0_y){4}, (?P<cb2>cb\d+)\[(?P<cb2_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos2)\.xyzw, (?P=in0)\.(?P=in0_x){4}, (?P=cb2)\[(?P<cb2_x>\d+)\]\.xyzw, (?P=pos2)\.xyzw$\n
^\s*?mad (?P<pos3>r\d+)\.xyzw, (?P<depth1>r\d+)\.(?P<depth1_x>[xyzw]){4}, (?P=cb2)\[(?P<cb2_z>\d+)\]\.xyzw, (?P=pos2)\.xyzw$\n
^\s*?add (?P=pos3)\.xyzw, (?P=pos3)\.xyzw, (?P=cb2)\[(?P<cb2_w>\d+)\]\.xyzw$\n
)

[ShaderRegexDecalsPS3Double.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
mul ${tmp3}.xy, ${in0}.${in0_sw}, ${cb1}[132].zwzz\n
sample_l_indexable(texture2d)(float,float,float,float) ${tmp4}.${depth_x}, ${tmp3}.xyxx, t${t_num}.${t_sw}, s${s_num}, l(0.000000)\n
mad ${tmp2}.xyzw, ${tmp4}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
mul ${tmp5}.x, l(0.5), ${cb1}[${iniparams15u}.x + 0].x\n
mad ${tmp5}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp5}.y, ${tmp5}.y, ${tmp5}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp5}.y, ${tmp1}.x\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
mul ${pos1}.xy, ${in0}.${in0_sw}, ${cb1}[132].zwzz\n
sample_l_indexable(texture2d)(float,float,float,float) ${depth}.${depth_x}, ${pos1}.xyxx, t${t_num}.${t_sw}, s${s_num}, l(0.000000)\n
sample_l_indexable(texture2d)(float,float,float,float) ${posm0}.xyw, ${pos1}.xyxx, t${t_num1}.${t1_sw}, s${s1_num}, l(0.000000)\n
mad ${posm0}.xyw, ${posm0}.xyxw, l(2.000000, 2.000000, 0.000000, 2.000000), l(-1.000000, -1.000000, 0.000000, -1.000000)\n
mad ${pos0}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos0}.xyzw, ${pos0}.xyzw, ${cb}[${cb_w}].xyzw\n
${rest0}\n
mul ${pos2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb2}[${cb2_y}].xyzw\n
mad ${pos2}.xyzw, ${tmp1}.xxxx, ${cb2}[${cb2_x}].xyzw, ${pos2}.xyzw\n
//Pattern break.\n
mad ${pos3}.xyzw, ${depth1}.${depth1_x}${depth1_x}${depth1_x}${depth1_x}, ${cb2}[${cb2_z}].xyzw, ${pos2}.xyzw\n
add ${pos3}.xyzw, ${pos3}.xyzw, ${cb2}[${cb2_w}].xyzw\n

[ShaderRegexDecalsPS3Double.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120


[ShaderRegexDecalsPS4Double]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 tmp4 tmp5
[ShaderRegexDecalsPS4Double.Pattern]
(?P<section0>
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mul (?P<pos1>r\d+)\.xy, (?P=in0)\.(?P<in0_sw>[xyzw]{4}), (?P<cb1>cb\d+)\[132\]\.zwzz$\n
^\s*?sample_l_indexable\(texture2d\)\(float,float,float,float\) (?P<depth>r\d+)\.(?P<depth_x>[xyzw]), (?P=pos1)\.xyxx, t(?P<t_num>\d+)\.(?P<t_sw>[xyzw]{4}), s(?P<s_num>\d+), l\(0\.000000\)$\n
^\s*?sample_l_indexable\(texture2d\)\(float,float,float,float\) (?P<posm0>r\d+)\.xy, (?P=pos1)\.xyxx, t(?P<t_num1>\d+)\.(?P<t1_sw>[xyzw]{4}), s(?P<s1_num>\d+), l\(0\.000000\)$\n
^\s*?mad (?P=posm0)\.xy, (?P=posm0)\.xyxx, l\(2\.000000, 2\.000000, 0\.000000, 0\.000000\), l\(-1\.000000, -1\.000000, 0\.000000, 0\.000000\)$\n
^\s*?round_ne (?P=posm0)\.xy, \|(?P=posm0)\.xyxx\|$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n
)
(?s)(?P<rest0>^.*?$)\n
(?P<section1>
^\s*?mul (?P<pos2>r\d+)\.xyzw, (?P=in0)\.(?P=in0_y){4}, (?P<cb2>cb\d+)\[(?P<cb2_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos2)\.xyzw, (?P=in0)\.(?P=in0_x){4}, (?P=cb2)\[(?P<cb2_x>\d+)\]\.xyzw, (?P=pos2)\.xyzw$\n
^\s*?mad (?P<pos3>r\d+)\.xyzw, (?P<depth1>r\d+)\.(?P<depth1_x>[xyzw]){4}, (?P=cb2)\[(?P<cb2_z>\d+)\]\.xyzw, (?P=pos2)\.xyzw$\n
^\s*?add (?P=pos3)\.xyzw, (?P=pos3)\.xyzw, (?P=cb2)\[(?P<cb2_w>\d+)\]\.xyzw$\n
)

[ShaderRegexDecalsPS4Double.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
mul ${tmp3}.xy, ${in0}.${in0_sw}, ${cb1}[132].zwzz\n
sample_l_indexable(texture2d)(float,float,float,float) ${tmp4}.${depth_x}, ${tmp3}.xyxx, t${t_num}.${t_sw}, s${s_num}, l(0.000000)\n
mad ${tmp2}.xyzw, ${tmp4}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
mul ${tmp5}.x, l(0.5), ${cb1}[${iniparams15u}.x + 0].x\n
mad ${tmp5}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp5}.y, ${tmp5}.y, ${tmp5}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp5}.y, ${tmp1}.x\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
mul ${pos1}.xy, ${in0}.${in0_sw}, ${cb1}[132].zwzz\n
sample_l_indexable(texture2d)(float,float,float,float) ${depth}.${depth_x}, ${pos1}.xyxx, t${t_num}.${t_sw}, s${s_num}, l(0.000000)\n
sample_l_indexable(texture2d)(float,float,float,float) ${posm0}.xy, ${pos1}.xyxx, t${t_num1}.${t1_sw}, s${s1_num}, l(0.000000)\n
mad ${posm0}.xy, ${posm0}.xyxx, l(2.000000, 2.000000, 0.000000, 0.000000), l(-1.000000, -1.000000, 0.000000, 0.000000)\n
round_ne ${posm0}.xy, |${posm0}.xyxx|\n
mad ${pos0}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos0}.xyzw, ${pos0}.xyzw, ${cb}[${cb_w}].xyzw\n
${rest0}\n
mul ${pos2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb2}[${cb2_y}].xyzw\n
mad ${pos2}.xyzw, ${tmp1}.xxxx, ${cb2}[${cb2_x}].xyzw, ${pos2}.xyzw\n
//Pattern break.\n
mad ${pos3}.xyzw, ${depth1}.${depth1_x}${depth1_x}${depth1_x}${depth1_x}, ${cb2}[${cb2_z}].xyzw, ${pos2}.xyzw\n
add ${pos3}.xyzw, ${pos3}.xyzw, ${cb2}[${cb2_w}].xyzw\n

[ShaderRegexDecalsPS4Double.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120




[ShaderRegexDecalsPS2Simple]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 tmp4 tmp5
[ShaderRegexDecalsPS2Simple.Pattern]
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mul (?P<pos1>r\d+)\.xy, (?P=in0)\.(?P<in0_sw>[xyzw]{4}), (?P<cb1>cb\d+)\[132\]\.zwzz$\n
^\s*?sample_l_indexable\(texture2d\)\(float,float,float,float\) (?P<depth>r\d+)\.(?P<depth_x>[xyzw]), (?P=pos1)\.xyxx, t(?P<t_num>\d+)\.(?P<t_sw>[xyzw]{4}), s(?P<s_num>\d+), l\(0\.000000\)$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=depth)\.(?P=depth_x){4}, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n

[ShaderRegexDecalsPS2Simple.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
mul ${tmp3}.xy, ${in0}.${in0_sw}, ${cb1}[132].zwzz\n
sample_l_indexable(texture2d)(float,float,float,float) ${tmp4}.${depth_x}, ${tmp3}.xyxx, t${t_num}.${t_sw}, s${s_num}, l(0.000000)\n
mad ${tmp2}.xyzw, ${tmp4}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
mul ${tmp5}.x, l(0.5), ${cb1}[${iniparams15u}.x + 0].x\n
mad ${tmp5}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp5}.y, ${tmp5}.y, ${tmp5}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp5}.y, ${tmp1}.x\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
mul ${pos1}.xy, ${in0}.${in0_sw}, ${cb1}[132].zwzz\n
sample_l_indexable(texture2d)(float,float,float,float) ${depth}.${depth_x}, ${pos1}.xyxx, t${t_num}.${t_sw}, s${s_num}, l(0.000000)\n
mad ${pos0}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos0}.xyzw, ${pos0}.xyzw, ${cb}[${cb_w}].xyzw\n

[ShaderRegexDecalsPS2Simple.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120





[ShaderRegexDecalsPS3_1]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 tmp4
[ShaderRegexDecalsPS3_1.Pattern]
(?P<section0>
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mad (?P<pos1>r\d+)\.xyzw, (?P=in0)\.zzzz, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos1)\.xyzw, (?P=pos1)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n
^\s*?div (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3}), (?P=pos1)\.(?P<pos1_sw1>[xyzw]{4}), (?P=pos1)\.wwww$\n
)
(?P<rest0>(^.*?$\n){0,100}?)
(?P<section2>
^\s*?dp3 (?P<pos3>r\d+)\.(?P<pos3_x>[xyzw]), (?P<sign1>-?)(?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P<sign2>-?)(?P=pos2)\.(?P<pos2_sw3>[xyzw]{4})$\n
^\s*?rsq (?P=pos3)\.(?P=pos3_x), (?P=pos3)\.(?P=pos3_x)$\n
^\s*?mul (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P=pos3)\.(?P=pos3_x){4}, (?P<sign3>-?)(?P=pos2)\.(?P<pos2_sw4>[xyzw]{4})$\n
)

[ShaderRegexDecalsPS3_1.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mov ${tmp1}.y, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mad ${tmp1}.y, -${stereo}.x, ${tmp4}.x, ${tmp1}.y\n
mul ${tmp3}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp3}.xyzw, ${tmp1}.yyyy, ${cb}[${cb_x}].xyzw, ${tmp3}.xyzw\n
//Pattern break.\n
mad ${tmp3}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${tmp3}.xyzw\n
add ${tmp3}.xyzw, ${tmp3}.xyzw, ${cb}[${cb_w}].xyzw\n
div ${tmp3}.${pos2_sw1}, ${tmp3}.${pos1_sw1}, ${tmp3}.wwww\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
//Pattern break.\n
mad ${pos1}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos1}.xyzw, ${pos1}.xyzw, ${cb}[${cb_w}].xyzw\n
div ${pos2}.${pos2_sw1}, ${pos1}.${pos1_sw1}, ${pos1}.wwww\n
${rest0}\n
dp3 ${pos3}.${pos3_x}, ${sign1}${tmp3}.${pos2_sw2}, ${sign2}${tmp3}.${pos2_sw3}\n
rsq ${pos3}.${pos3_x}, ${pos3}.${pos3_x}\n
mul ${pos4}.${pos4_sw1}, ${pos3}.${pos3_x}${pos3_x}${pos3_x}${pos3_x}, ${sign3}${tmp3}.${pos2_sw4}\n

[ShaderRegexDecalsPS3_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120

[ShaderRegexDecalsPS3_2]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 tmp4
[ShaderRegexDecalsPS3_2.Pattern]
(?P<section0>
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mad (?P<pos1>r\d+)\.xyzw, (?P=in0)\.zzzz, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos1)\.xyzw, (?P=pos1)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n
^\s*?div (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3}), (?P=pos1)\.(?P<pos1_sw1>[xyzw]{4}), (?P=pos1)\.wwww$\n
)
(?P<rest0>(^.*?$\n){0,100}?)
(?P<section2>
^\s*?dp3 (?P<pos3>r\d+)\.(?P<pos3_x>[xyzw]), (?P<sign1>-?)(?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P<sign2>-?)(?P=pos2)\.(?P<pos2_sw3>[xyzw]{4})$\n
^\s*?rsq (?P=pos3)\.(?P=pos3_x), (?P=pos3)\.(?P=pos3_x)$\n
^\s*?mul (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P=pos3)\.(?P=pos3_x){4}, (?P<sign3>-?)(?P=pos2)\.(?P<pos2_sw4>[xyzw]{4})$\n
)

[ShaderRegexDecalsPS3_2.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mov ${tmp1}.y, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mad ${tmp1}.y, -${stereo}.x, ${tmp4}.x, ${tmp1}.y\n
mul ${tmp3}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp3}.xyzw, ${tmp1}.yyyy, ${cb}[${cb_x}].xyzw, ${tmp3}.xyzw\n
//Pattern break.\n
mad ${tmp3}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${tmp3}.xyzw\n
add ${tmp3}.xyzw, ${tmp3}.xyzw, ${cb}[${cb_w}].xyzw\n
div ${tmp3}.${pos2_sw1}, ${tmp3}.${pos1_sw1}, ${tmp3}.wwww\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
//Pattern break.\n
mad ${pos1}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos1}.xyzw, ${pos1}.xyzw, ${cb}[${cb_w}].xyzw\n
div ${pos2}.${pos2_sw1}, ${pos1}.${pos1_sw1}, ${pos1}.wwww\n
${rest0}\n
dp3 ${pos3}.${pos3_x}, ${sign1}${tmp3}.${pos2_sw2}, ${sign2}${tmp3}.${pos2_sw3}\n
rsq ${pos3}.${pos3_x}, ${pos3}.${pos3_x}\n
mul ${pos4}.${pos4_sw1}, ${pos3}.${pos3_x}${pos3_x}${pos3_x}${pos3_x}, ${sign3}${tmp3}.${pos2_sw4}\n

[ShaderRegexDecalsPS3_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120

[ShaderRegexDecalsPS3_3]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 tmp4
[ShaderRegexDecalsPS3_3.Pattern]
(?P<section0>
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mad (?P<pos1>r\d+)\.xyzw, (?P=in0)\.zzzz, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos1)\.xyzw, (?P=pos1)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n
^\s*?div (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3}), (?P=pos1)\.(?P<pos1_sw1>[xyzw]{4}), (?P=pos1)\.wwww$\n
)
(?P<rest0>(^.*?$\n){0,100}?)
(?P<section2>
^\s*?dp3 (?P<pos3>r\d+)\.(?P<pos3_x>[xyzw]), (?P<sign1>-?)(?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P<sign2>-?)(?P=pos2)\.(?P<pos2_sw3>[xyzw]{4})$\n
^\s*?rsq (?P=pos3)\.(?P=pos3_x), (?P=pos3)\.(?P=pos3_x)$\n
^\s*?mul (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P=pos3)\.(?P=pos3_x){4}, (?P<sign3>-?)(?P=pos2)\.(?P<pos2_sw4>[xyzw]{4})$\n
)

[ShaderRegexDecalsPS3_3.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mov ${tmp1}.y, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mad ${tmp1}.y, -${stereo}.x, ${tmp4}.x, ${tmp1}.y\n
mul ${tmp3}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp3}.xyzw, ${tmp1}.yyyy, ${cb}[${cb_x}].xyzw, ${tmp3}.xyzw\n
//Pattern break.\n
mad ${tmp3}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${tmp3}.xyzw\n
add ${tmp3}.xyzw, ${tmp3}.xyzw, ${cb}[${cb_w}].xyzw\n
div ${tmp3}.${pos2_sw1}, ${tmp3}.${pos1_sw1}, ${tmp3}.wwww\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
//Pattern break.\n
mad ${pos1}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos1}.xyzw, ${pos1}.xyzw, ${cb}[${cb_w}].xyzw\n
div ${pos2}.${pos2_sw1}, ${pos1}.${pos1_sw1}, ${pos1}.wwww\n
${rest0}\n
dp3 ${pos3}.${pos3_x}, ${sign1}${tmp3}.${pos2_sw2}, ${sign2}${tmp3}.${pos2_sw3}\n
rsq ${pos3}.${pos3_x}, ${pos3}.${pos3_x}\n
mul ${pos4}.${pos4_sw1}, ${pos3}.${pos3_x}${pos3_x}${pos3_x}${pos3_x}, ${sign3}${tmp3}.${pos2_sw4}\n

[ShaderRegexDecalsPS3_3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120




[ShaderRegexDecalsPS3r_1]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 tmp4
[ShaderRegexDecalsPS3r_1.Pattern]
(?P<section0>
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mad (?P<pos1>r\d+)\.xyzw, (?P=in0)\.zzzz, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos1)\.xyzw, (?P=pos1)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n
^\s*?div (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3}), (?P=pos1)\.(?P<pos1_sw1>[xyzw]{4}), (?P=pos1)\.wwww$\n
)
(?P<rest0>(^.*?$\n){0,100}?)
(?P<section2>
^\s*?dp3 (?P<pos3>r\d+)\.(?P<pos3_x>[xyzw]), (?P<sign1>-?)(?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P<sign2>-?)(?P=pos2)\.(?P<pos2_sw3>[xyzw]{4})$\n
^\s*?rsq (?P=pos3)\.(?P=pos3_x), (?P=pos3)\.(?P=pos3_x)$\n
^\s*?mul (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P<sign3>-?)(?P=pos2)\.(?P<pos2_sw4>[xyzw]{4}), (?P=pos3)\.(?P=pos3_x){4}$\n
)

[ShaderRegexDecalsPS3r_1.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mov ${tmp1}.y, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mad ${tmp1}.y, -${stereo}.x, ${tmp4}.x, ${tmp1}.y\n
mul ${tmp3}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp3}.xyzw, ${tmp1}.yyyy, ${cb}[${cb_x}].xyzw, ${tmp3}.xyzw\n
//Pattern break.\n
mad ${tmp3}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${tmp3}.xyzw\n
add ${tmp3}.xyzw, ${tmp3}.xyzw, ${cb}[${cb_w}].xyzw\n
div ${tmp3}.${pos2_sw1}, ${tmp3}.${pos1_sw1}, ${tmp3}.wwww\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
//Pattern break.\n
mad ${pos1}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos1}.xyzw, ${pos1}.xyzw, ${cb}[${cb_w}].xyzw\n
div ${pos2}.${pos2_sw1}, ${pos1}.${pos1_sw1}, ${pos1}.wwww\n
${rest0}\n
dp3 ${pos3}.${pos3_x}, ${sign1}${tmp3}.${pos2_sw2}, ${sign2}${tmp3}.${pos2_sw3}\n
rsq ${pos3}.${pos3_x}, ${pos3}.${pos3_x}\n
mul ${pos4}.${pos4_sw1}, ${sign3}${tmp3}.${pos2_sw4}, ${pos3}.${pos3_x}${pos3_x}${pos3_x}${pos3_x}\n

[ShaderRegexDecalsPS3r_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120


[ShaderRegexDecalsPS3r_2]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 tmp4
[ShaderRegexDecalsPS3r_2.Pattern]
(?P<section0>
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mad (?P<pos1>r\d+)\.xyzw, (?P=in0)\.zzzz, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos1)\.xyzw, (?P=pos1)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n
^\s*?div (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3}), (?P=pos1)\.(?P<pos1_sw1>[xyzw]{4}), (?P=pos1)\.wwww$\n
)
(?P<rest0>(^.*?$\n){0,100}?)
(?P<section2>
^\s*?dp3 (?P<pos3>r\d+)\.(?P<pos3_x>[xyzw]), (?P<sign1>-?)(?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P<sign2>-?)(?P=pos2)\.(?P<pos2_sw3>[xyzw]{4})$\n
^\s*?rsq (?P=pos3)\.(?P=pos3_x), (?P=pos3)\.(?P=pos3_x)$\n
^\s*?mul (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P<sign3>-?)(?P=pos2)\.(?P<pos2_sw4>[xyzw]{4}), (?P=pos3)\.(?P=pos3_x){4}$\n
)

[ShaderRegexDecalsPS3r_2.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mov ${tmp1}.y, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mad ${tmp1}.y, -${stereo}.x, ${tmp4}.x, ${tmp1}.y\n
mul ${tmp3}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp3}.xyzw, ${tmp1}.yyyy, ${cb}[${cb_x}].xyzw, ${tmp3}.xyzw\n
//Pattern break.\n
mad ${tmp3}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${tmp3}.xyzw\n
add ${tmp3}.xyzw, ${tmp3}.xyzw, ${cb}[${cb_w}].xyzw\n
div ${tmp3}.${pos2_sw1}, ${tmp3}.${pos1_sw1}, ${tmp3}.wwww\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
//Pattern break.\n
mad ${pos1}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos1}.xyzw, ${pos1}.xyzw, ${cb}[${cb_w}].xyzw\n
div ${pos2}.${pos2_sw1}, ${pos1}.${pos1_sw1}, ${pos1}.wwww\n
${rest0}\n
dp3 ${pos3}.${pos3_x}, ${sign1}${tmp3}.${pos2_sw2}, ${sign2}${tmp3}.${pos2_sw3}\n
rsq ${pos3}.${pos3_x}, ${pos3}.${pos3_x}\n
mul ${pos4}.${pos4_sw1}, ${sign3}${tmp3}.${pos2_sw4}, ${pos3}.${pos3_x}${pos3_x}${pos3_x}${pos3_x}\n

[ShaderRegexDecalsPS3r_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120


[ShaderRegexDecalsPS3r_3]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 tmp4
[ShaderRegexDecalsPS3r_3.Pattern]
(?P<section0>
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mad (?P<pos1>r\d+)\.xyzw, (?P=in0)\.zzzz, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos1)\.xyzw, (?P=pos1)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n
^\s*?div (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3}), (?P=pos1)\.(?P<pos1_sw1>[xyzw]{4}), (?P=pos1)\.wwww$\n
)
(?P<rest0>(^.*?$\n){0,100}?)
(?P<section2>
^\s*?dp3 (?P<pos3>r\d+)\.(?P<pos3_x>[xyzw]), (?P<sign1>-?)(?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P<sign2>-?)(?P=pos2)\.(?P<pos2_sw3>[xyzw]{4})$\n
^\s*?rsq (?P=pos3)\.(?P=pos3_x), (?P=pos3)\.(?P=pos3_x)$\n
^\s*?mul (?P<pos4>r\d+)\.(?P<pos4_sw1>[xyzw]{3}), (?P<sign3>-?)(?P=pos2)\.(?P<pos2_sw4>[xyzw]{4}), (?P=pos3)\.(?P=pos3_x){4}$\n
)

[ShaderRegexDecalsPS3r_3.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mov ${tmp1}.y, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mad ${tmp1}.y, -${stereo}.x, ${tmp4}.x, ${tmp1}.y\n
mul ${tmp3}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp3}.xyzw, ${tmp1}.yyyy, ${cb}[${cb_x}].xyzw, ${tmp3}.xyzw\n
//Pattern break.\n
mad ${tmp3}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${tmp3}.xyzw\n
add ${tmp3}.xyzw, ${tmp3}.xyzw, ${cb}[${cb_w}].xyzw\n
div ${tmp3}.${pos2_sw1}, ${tmp3}.${pos1_sw1}, ${tmp3}.wwww\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
//Pattern break.\n
mad ${pos1}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos1}.xyzw, ${pos1}.xyzw, ${cb}[${cb_w}].xyzw\n
div ${pos2}.${pos2_sw1}, ${pos1}.${pos1_sw1}, ${pos1}.wwww\n
${rest0}\n
dp3 ${pos3}.${pos3_x}, ${sign1}${tmp3}.${pos2_sw2}, ${sign2}${tmp3}.${pos2_sw3}\n
rsq ${pos3}.${pos3_x}, ${pos3}.${pos3_x}\n
mul ${pos4}.${pos4_sw1}, ${sign3}${tmp3}.${pos2_sw4}, ${pos3}.${pos3_x}${pos3_x}${pos3_x}${pos3_x}\n

[ShaderRegexDecalsPS3r_3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120




[ShaderRegexDecalsPS3z_1_nospec]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp4
[ShaderRegexDecalsPS3z_1_nospec.Pattern]
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mad (?P<pos1>r\d+)\.xyzw, (?P=in0)\.zzzz, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos1)\.xyzw, (?P=pos1)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n

[ShaderRegexDecalsPS3z_1_nospec.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
//Pattern break.\n
mad ${pos1}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos1}.xyzw, ${pos1}.xyzw, ${cb}[${cb_w}].xyzw\n

[ShaderRegexDecalsPS3z_1_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120



[ShaderRegexDecalsPS3z_2_nospec]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp4
[ShaderRegexDecalsPS3z_2_nospec.Pattern]
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mad (?P<pos1>r\d+)\.xyzw, (?P=in0)\.zzzz, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos1)\.xyzw, (?P=pos1)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n

[ShaderRegexDecalsPS3z_2_nospec.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
//Pattern break.\n
mad ${pos1}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos1}.xyzw, ${pos1}.xyzw, ${cb}[${cb_w}].xyzw\n

[ShaderRegexDecalsPS3z_2_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120



[ShaderRegexDecalsPS4_1_nospec]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp4
[ShaderRegexDecalsPS4_1_nospec.Pattern]
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P=pos0)\.xyzw, (?P=in0)\.(?P<in0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mad (?P<pos1>r\d+)\.xyzw, (?P<in1>r\d+)\.(?P<in1_x>[xyzw]){4}, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?add (?P=pos1)\.xyzw, (?P=pos1)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n

[ShaderRegexDecalsPS4_1_nospec.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mul ${tmp2}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${in1}.${in1_x}${in1_x}${in1_x}${in1_x}, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mul ${pos0}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
//Pattern break.\n
mad ${pos1}.xyzw, ${in1}.${in1_x}${in1_x}${in1_x}${in1_x}, ${cb}[${cb_z}].xyzw, ${pos0}.xyzw\n
add ${pos1}.xyzw, ${pos1}.xyzw, ${cb}[${cb_w}].xyzw\n

[ShaderRegexDecalsPS4_1_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120



[ShaderRegexDecalsPS5_1_nospec]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 tmp4
[ShaderRegexDecalsPS5_1_nospec.Pattern]
(?P<section0>
^\s*?mul (?P<posin0>r\d+)\.(?P<in0_x>[xyzw])(?P<in0_y>[xyzw]), (?P<in0>v\d+)\.[xy]{4}, cb\d+\[\d+\]\.[xyzw]{4}$\n
)
(?P<section1>
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P=posin0)\.(?P=in0_y){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P<pos1>r\d+)\.xyzw, (?P=posin0)\.(?P=in0_x){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mov (?P<in1>r\d+)\.(?P<in1_x>[xyzw]), (?P=in0)\.z$\n
^\s*?mad (?P<pos2>r\d+)\.xyzw, (?P=in1)\.(?P=in1_x){4}, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos1)\.xyzw$\n
^\s*?add (?P<pos3>r\d+)\.xyzw, (?P=pos2)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n
)

[ShaderRegexDecalsPS5_1_nospec.Pattern.Replace]
${section0}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${posin0}.${in0_x}\n
mul ${tmp2}.xyzw, ${posin0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
mov ${tmp3}.${in1_x}, ${in0}.z\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${tmp3}.${in1_x}${in1_x}${in1_x}${in1_x}, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mul ${pos0}.xyzw, ${posin0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos1}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
mov ${in1}.${in1_x}, ${in0}.z\n
//Pattern break.\n
mad ${pos2}.xyzw, ${in1}.${in1_x}${in1_x}${in1_x}${in1_x}, ${cb}[${cb_z}].xyzw, ${pos1}.xyzw\n
add ${pos3}.xyzw, ${pos2}.xyzw, ${cb}[${cb_w}].xyzw\n

[ShaderRegexDecalsPS5_1_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120



[ShaderRegexDecalsPS6_1_nospec]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 tmp4
[ShaderRegexDecalsPS6_1_nospec.Pattern]
(?P<section0>
^\s*?mul (?P<posin0>r\d+)\.(?P<in0_x>[xyzw])(?P<in0_y>[xyzw]), (?P<in0>v\d+)\.[xy]{4}, cb\d+\[\d+\]\.[xyzw]{4}$\n
)
(?P<section1>
^\s*?mov (?P<in1>r\d+)\.(?P<in1_x>[xyzw]), (?P=in0)\.z$\n
^\s*?mul (?P<pos0>r\d+)\.xyzw, (?P=posin0)\.(?P=in0_y){4}, (?P<cb>cb\d+)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?mad (?P<pos1>r\d+)\.xyzw, (?P=posin0)\.(?P=in0_x){4}, (?P=cb)\[(?P<cb_x>\d+)\]\.xyzw, (?P=pos0)\.xyzw$\n
^\s*?mad (?P<pos2>r\d+)\.xyzw, (?P=in1)\.(?P=in1_x){4}, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw, (?P=pos1)\.xyzw$\n
^\s*?add (?P<pos3>r\d+)\.xyzw, (?P=pos2)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n
)

[ShaderRegexDecalsPS6_1_nospec.Pattern.Replace]
${section0}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${posin0}.${in0_x}\n
mov ${tmp3}.${in1_x}, ${in0}.z\n
mul ${tmp2}.xyzw, ${posin0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp2}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${tmp2}.xyzw\n
//Pattern break.\n
mad ${tmp2}.xyzw, ${tmp3}.${in1_x}${in1_x}${in1_x}${in1_x}, ${cb}[${cb_z}].xyzw, ${tmp2}.xyzw\n
add ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mov ${in1}.${in1_x}, ${in0}.z\n
mul ${pos0}.xyzw, ${posin0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos1}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw, ${pos0}.xyzw\n
//Pattern break.\n
mad ${pos2}.xyzw, ${in1}.${in1_x}${in1_x}${in1_x}${in1_x}, ${cb}[${cb_z}].xyzw, ${pos1}.xyzw\n
add ${pos3}.xyzw, ${pos2}.xyzw, ${cb}[${cb_w}].xyzw\n

[ShaderRegexDecalsPS6_1_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120




[ShaderRegexPreciseDecalsPS1_1]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp2a tmp3 tmp3a tmp4
[ShaderRegexPreciseDecalsPS1_1.Pattern]
(?P<section0>
^\s*?mul \[precise\] (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_x>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_x>\d+)\]\.xyzw$\n
^\s*?mul \[precise\] (?P<pos1>r\d+)\.xyzw, (?P=in0)\.(?P<in0_y>[xyzw]){4}, (?P=cb)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?add \[precise\] (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=pos1)\.xyzw$\n
^\s*?mul \[precise\] (?P=pos1)\.xyzw, (?P=in0)\.zzzz, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw$\n
^\s*?add \[precise\] (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=pos1)\.xyzw$\n
^\s*?add \[precise\] (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n
^\s*?div \[precise\((?P<pos2_sw1>[xyzw]{3})\)\] (?P<pos2>r\d+)\.(?P=pos2_sw1), (?P=pos0)\.(?P<pos0_sw1>[xyzw]{4}), (?P=pos0)\.wwww$\n
)
(?P<section1>(^\s*?.*$\n)?)
(?P<section1a>(^\s*?.*$\n)?)
(?P<section1b>(^\s*?.*$\n)?)
(?P<section1c>(^\s*?.*$\n)?)
(?P<section1d>(^\s*?.*$\n)?)
(?P<section2>
^\s*?dp3 \[precise\((?P<pos3_x>[xyzw])\)\] (?P<pos3>r\d+)\.(?P=pos3_x), (?P<sign1>-?)(?P=pos2)\.(?P<pos2_sw2>[xyzw]{4}), (?P<sign2>-?)(?P=pos2)\.(?P<pos2_sw3>[xyzw]{4})$\n
^\s*?rsq \[precise\((?P=pos3_x)\)\] (?P=pos3)\.(?P=pos3_x), (?P=pos3)\.(?P=pos3_x)$\n
^\s*?mul \[precise\((?P<pos4_sw1>[xyzw]{3})\)\] (?P<pos4>r\d+)\.(?P=pos4_sw1), (?P<sign3>-?)(?P=pos2)\.(?P<pos2_sw4>[xyzw]{4}), (?P=pos3)\.(?P=pos3_x){4}$\n
)

[ShaderRegexPreciseDecalsPS1_1.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mov ${tmp1}.y, ${in0}.${in0_x}\n
mul [precise] ${tmp2}.xyzw, ${in0}.${in0_x}${in0_x}${in0_x}${in0_x}, ${cb}[${cb_x}].xyzw\n
mul [precise] ${tmp2a}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
add [precise] ${tmp2}.xyzw, ${tmp2}.xyzw, ${tmp2a}.xyzw\n
//Pattern break.\n
mul [precise] ${tmp2a}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw\n
add [precise] ${tmp2}.xyzw, ${tmp2}.xyzw, ${tmp2a}.xyzw\n
add [precise] ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mad ${tmp1}.y, -${stereo}.x, ${tmp4}.x, ${tmp1}.y\n
mul [precise] ${tmp3}.xyzw, ${tmp1}.yyyy, ${cb}[${cb_x}].xyzw\n
mul [precise] ${tmp3a}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
add [precise] ${tmp3}.xyzw, ${tmp3}.xyzw, ${tmp3a}.xyzw\n
//Pattern break.\n
mul [precise] ${tmp3a}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw\n
add [precise] ${tmp3}.xyzw, ${tmp3}.xyzw, ${tmp3a}.xyzw\n
add [precise] ${tmp3}.xyzw, ${tmp3}.xyzw, ${cb}[${cb_w}].xyzw\n
div [precise(${pos2_sw1})] ${tmp3}.${pos2_sw1}, ${tmp3}.${pos1_sw1}, ${tmp3}.wwww\n
mul [precise] ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw\n
mul [precise] ${pos1}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
add [precise] ${pos0}.xyzw, ${pos0}.xyzw, ${pos1}.xyzw\n
//Pattern break.\n
mul [precise] ${pos1}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw\n
add [precise] ${pos0}.xyzw, ${pos0}.xyzw, ${pos1}.xyzw\n
add [precise] ${pos0}.xyzw, ${pos0}.xyzw, ${cb}[${cb_w}].xyzw\n
div [precise(${pos2_sw1})] ${pos2}.${pos2_sw1}, ${pos0}.${pos1_sw1}, ${pos0}.wwww\n
${section1}\n
${section1a}\n
${section1b}\n
${section1c}\n
${section1d}\n
dp3 [precise(${pos3_x})] ${pos3}.${pos3_x}, ${sign1}${tmp3}.${pos2_sw2}, ${sign2}${tmp3}.${pos2_sw3}\n
rsq [precise(${pos3_x})] ${pos3}.${pos3_x}, ${pos3}.${pos3_x}\n
mul [precise(${pos4_sw1})] ${pos4}.${pos4_sw1}, ${sign3}${tmp3}.${pos2_sw4}, ${pos3}.${pos3_x}${pos3_x}${pos3_x}${pos3_x}\n

[ShaderRegexPreciseDecalsPS1_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120



[ShaderRegexPreciseDecalsPS1z_1_nospec]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp2a tmp3 tmp3a tmp4
[ShaderRegexPreciseDecalsPS1z_1_nospec.Pattern]
^\s*?mul \[precise\] (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_x>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_x>\d+)\]\.xyzw$\n
^\s*?mul \[precise\] (?P<pos1>r\d+)\.xyzw, (?P=in0)\.(?P<in0_y>[xyzw]){4}, (?P=cb)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?add \[precise\] (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=pos1)\.xyzw$\n
^\s*?mul \[precise\] (?P=pos1)\.xyzw, (?P=in0)\.zzzz, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw$\n
^\s*?add \[precise\] (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=pos1)\.xyzw$\n
^\s*?add \[precise\] (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n

[ShaderRegexPreciseDecalsPS1z_1_nospec.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mul [precise] ${tmp2}.xyzw, ${in0}.${in0_x}${in0_x}${in0_x}${in0_x}, ${cb}[${cb_x}].xyzw\n
mul [precise] ${tmp2a}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
add [precise] ${tmp2}.xyzw, ${tmp2}.xyzw, ${tmp2a}.xyzw\n
//Pattern break.\n
mul [precise] ${tmp2a}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw\n
add [precise] ${tmp2}.xyzw, ${tmp2}.xyzw, ${tmp2a}.xyzw\n
add [precise] ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mul [precise] ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw\n
mul [precise] ${pos1}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
add [precise] ${pos0}.xyzw, ${pos0}.xyzw, ${pos1}.xyzw\n
//Pattern break.\n
mul [precise] ${pos1}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw\n
add [precise] ${pos0}.xyzw, ${pos0}.xyzw, ${pos1}.xyzw\n
add [precise] ${pos0}.xyzw, ${pos0}.xyzw, ${cb}[${cb_w}].xyzw\n

[ShaderRegexPreciseDecalsPS1z_1_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120

[ShaderRegexPreciseDecalsPS1z_2_nospec]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp2a tmp3 tmp3a tmp4
[ShaderRegexPreciseDecalsPS1z_2_nospec.Pattern]
^\s*?mul \[precise\] (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_x>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_x>\d+)\]\.xyzw$\n
^\s*?mul \[precise\] (?P<pos1>r\d+)\.xyzw, (?P=in0)\.(?P<in0_y>[xyzw]){4}, (?P=cb)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?add \[precise\] (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=pos1)\.xyzw$\n
^\s*?mul \[precise\] (?P=pos1)\.xyzw, (?P=in0)\.zzzz, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw$\n
^\s*?add \[precise\] (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=pos1)\.xyzw$\n
^\s*?add \[precise\] (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n

[ShaderRegexPreciseDecalsPS1z_2_nospec.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mul [precise] ${tmp2}.xyzw, ${in0}.${in0_x}${in0_x}${in0_x}${in0_x}, ${cb}[${cb_x}].xyzw\n
mul [precise] ${tmp2a}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
add [precise] ${tmp2}.xyzw, ${tmp2}.xyzw, ${tmp2a}.xyzw\n
//Pattern break.\n
mul [precise] ${tmp2a}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw\n
add [precise] ${tmp2}.xyzw, ${tmp2}.xyzw, ${tmp2a}.xyzw\n
add [precise] ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mul [precise] ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw\n
mul [precise] ${pos1}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
add [precise] ${pos0}.xyzw, ${pos0}.xyzw, ${pos1}.xyzw\n
//Pattern break.\n
mul [precise] ${pos1}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw\n
add [precise] ${pos0}.xyzw, ${pos0}.xyzw, ${pos1}.xyzw\n
add [precise] ${pos0}.xyzw, ${pos0}.xyzw, ${cb}[${cb_w}].xyzw\n

[ShaderRegexPreciseDecalsPS1z_2_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120

[ShaderRegexPreciseDecalsPS1z_3_nospec]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp2a tmp3 tmp3a tmp4
[ShaderRegexPreciseDecalsPS1z_3_nospec.Pattern]
^\s*?mul \[precise\] (?P<pos0>r\d+)\.xyzw, (?P<in0>v\d+)\.(?P<in0_x>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_x>\d+)\]\.xyzw$\n
^\s*?mul \[precise\] (?P<pos1>r\d+)\.xyzw, (?P=in0)\.(?P<in0_y>[xyzw]){4}, (?P=cb)\[(?P<cb_y>\d+)\]\.xyzw$\n
^\s*?add \[precise\] (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=pos1)\.xyzw$\n
^\s*?mul \[precise\] (?P=pos1)\.xyzw, (?P=in0)\.zzzz, (?P=cb)\[(?P<cb_z>\d+)\]\.xyzw$\n
^\s*?add \[precise\] (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=pos1)\.xyzw$\n
^\s*?add \[precise\] (?P=pos0)\.xyzw, (?P=pos0)\.xyzw, (?P=cb)\[(?P<cb_w>\d+)\]\.xyzw$\n

[ShaderRegexPreciseDecalsPS1z_3_nospec.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.x, ${in0}.${in0_x}\n
mul [precise] ${tmp2}.xyzw, ${in0}.${in0_x}${in0_x}${in0_x}${in0_x}, ${cb}[${cb_x}].xyzw\n
mul [precise] ${tmp2a}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
add [precise] ${tmp2}.xyzw, ${tmp2}.xyzw, ${tmp2a}.xyzw\n
//Pattern break.\n
mul [precise] ${tmp2a}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw\n
add [precise] ${tmp2}.xyzw, ${tmp2}.xyzw, ${tmp2a}.xyzw\n
add [precise] ${tmp2}.xyzw, ${tmp2}.xyzw, ${cb}[${cb_w}].xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp2}.w, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${tmp1}.x, ${stereo}.x, ${tmp4}.y, ${tmp1}.x\n
mul [precise] ${pos0}.xyzw, ${tmp1}.xxxx, ${cb}[${cb_x}].xyzw\n
mul [precise] ${pos1}.xyzw, ${in0}.${in0_y}${in0_y}${in0_y}${in0_y}, ${cb}[${cb_y}].xyzw\n
add [precise] ${pos0}.xyzw, ${pos0}.xyzw, ${pos1}.xyzw\n
//Pattern break.\n
mul [precise] ${pos1}.xyzw, ${in0}.zzzz, ${cb}[${cb_z}].xyzw\n
add [precise] ${pos0}.xyzw, ${pos0}.xyzw, ${pos1}.xyzw\n
add [precise] ${pos0}.xyzw, ${pos0}.xyzw, ${cb}[${cb_w}].xyzw\n

[ShaderRegexPreciseDecalsPS1z_3_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120





[ShaderRegexSSRBorder1]
shader_model = ps_5_0 cs_5_0
temps = stereo
[ShaderRegexSSRBorder1.Pattern]
^\s*?mad_sat r\d+\.[xyzw]{2}, \|(?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}\|, l\(\d\.000000, \d\.000000, \d\.000000, \d\.000000\), l\((?P<sign1>-?)\d\.000000, (?P<sign2>-?)\d\.000000, (?P<sign3>-?)\d\.000000, (?P<sign4>-?)\d\.000000\)$\n
^\s*?dp2 r\d+\.[xyzw], r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n

[ShaderRegexSSRBorder1.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mad ${pos0}.${pos0_x}, ${stereo}.x, l(-2.0), ${pos0}.${pos0_x}\n
${0}

[ShaderRegexSSRBorder1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125




[ShaderRegex2DLighting1]
shader_model = ps_5_0
temps = stereo tmp1 tmp2
[ShaderRegex2DLighting1.Pattern
(?P<section0>
^\s*?mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, (?P<cb>cb\d+)\[138\]\.[xyzw]{4}, (?P=cb)\[138\]\.[xyzw]{4}$\n
)
(?P<section1>
^\s*?dp3 (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw]), (?P<in0>v\d+)\.(?P<in0_sw1>[xyz]{4}), (?P=in0)\.(?P<in0_sw2>[xyz]{4})$\n
^\s*?rsq (?P=pos0)\.(?P=pos0_x), (?P=pos0)\.(?P=pos0_x)$\n
^\s*?mul (?P<pos1>r\d+)\.(?P<pos1_sw1>[xyzw]{3}), (?P=pos0)\.(?P=pos0_x){4}, (?P=in0)\.(?P<in0_sw3>[xyz]{4})$\n
)

[ShaderRegex2DLighting1.Pattern.Replace]
${section0}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mov ${tmp1}.xyz, ${in0}.xyzx\n
mul ${tmp2}.w, ${cb}[32].x, ${cb}[32].x\n
div ${tmp2}.x, ${cb}[0].x, ${tmp2}.w\n
div ${tmp2}.y, ${cb}[1].x, ${tmp2}.w\n
div ${tmp2}.z, ${cb}[2].x, ${tmp2}.w\n
mad ${tmp1}.xyz, -${stereo}.xxxx, ${tmp2}.xyzx, ${tmp1}.xyzx\n
dp3 ${pos0}.${pos0_x}, ${tmp1}.${in0_sw1}, ${tmp1}.${in0_sw2}\n
rsq ${pos0}.${pos0_x}, ${pos0}.${pos0_x}\n
mul ${pos1}.${pos1_sw1}, ${pos0}.${pos0_x}${pos0_x}${pos0_x}${pos0_x}, ${tmp1}.${in0_sw3}\n

[ShaderRegex2DLighting1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125


[ShaderRegex2DLighting2]
shader_model = ps_5_0
temps = stereo tmp1 tmp2
[ShaderRegex2DLighting2.Pattern
(?P<section0>
^\s*?mad r\d+\.[xyzw], r\d+\.[xyzw], (?P<cb>cb\d+)\[71\]\.z, -(?P=cb)\[71\]\.w$\n
)
(?s)(?P<rest0>^.*?$)\n
(?P<section1>
^\s*?mad r\d+\.[xyzw]{3}, (?P<in0>v\d+)\.xyzx, r\d+\.[xyzw]{4}, (?P=cb)\[74\]\.[xyzw]{4}$\n
)
(?P<section2>
^\s*?dp3 (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw]), (?P=in0)\.(?P<in0_sw1>[xyz]{4}), (?P=in0)\.(?P<in0_sw2>[xyz]{4})$\n
^\s*?rsq (?P=pos0)\.(?P=pos0_x), (?P=pos0)\.(?P=pos0_x)$\n
^\s*?mul (?P<pos1>r\d+)\.(?P<pos1_sw1>[xyzw]{3}), (?P=pos0)\.(?P=pos0_x){4}, (?P=in0)\.(?P<in0_sw3>[xyz]{4})$\n
)

[ShaderRegex2DLighting2.Pattern.Replace]
${section0}\n
${rest0}\n
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mov ${tmp1}.xyz, ${in0}.xyzx\n
mul ${tmp2}.w, ${cb}[32].x, ${cb}[32].x\n
div ${tmp2}.x, ${cb}[0].x, ${tmp2}.w\n
div ${tmp2}.y, ${cb}[1].x, ${tmp2}.w\n
div ${tmp2}.z, ${cb}[2].x, ${tmp2}.w\n
mad ${tmp1}.xyz, -${stereo}.xxxx, ${tmp2}.xyzx, ${tmp1}.xyzx\n
dp3 ${pos0}.${pos0_x}, ${tmp1}.${in0_sw1}, ${tmp1}.${in0_sw2}\n
rsq ${pos0}.${pos0_x}, ${pos0}.${pos0_x}\n
mul ${pos1}.${pos1_sw1}, ${pos0}.${pos0_x}${pos0_x}${pos0_x}${pos0_x}, ${tmp1}.${in0_sw3}\n

[ShaderRegex2DLighting2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125




[ShaderRegexDP4ObjectsPS1]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp4
[ShaderRegexDP4ObjectsPS1.Pattern]
(?P<section0>
^\s*?mov (?P<pos0>r\d+)\.w, l\(1\.000000\)$\n
)
(?P<section1>
^\s*?dp4 (?P<pos1>r\d+)\.(?P<pos1_x>[xyzw]), (?P=pos0)\.xyzw, (?P<pos2>r\d+)\.xyzw$\n
^\s*?dp4 (?P=pos1)\.(?P<pos1_y>[xyzw]), (?P=pos0)\.xyzw, (?P<pos3>r\d+)\.xyzw$\n
^\s*?dp4 (?P=pos1)\.(?P<pos1_z>[xyzw]), (?P=pos0)\.xyzw, (?P<pos4>r\d+)\.xyzw$\n
^\s*?dp4 (?P=pos1)\.(?P<pos1_w>[xyzw]), (?P=pos0)\.xyzw, (?P<pos5>r\d+)\.xyzw$\n
^\s*?div (?P=pos1)\.xyz, (?P=pos1)\.(?P<pos1_sw>[xyzw]{4}), (?P=pos1)\.(?P=pos1_w){4}$\n
)
(?P<section1a>(
^\s*?add r\d+\.xyz, -r\d+\.xyzx, (?P=pos1)\.xyzx$\n
)?)
(?P<section1b>(
^\s*?add r\d+\.[xyzw]{4}, -r\d+\.[xyzw]{4}, v\d+\.[xyzw]{4}$\n
)?)
(?P<section2>
^\s*?dp3 (?P=pos1)\.w, -(?P=pos1)\.xyzx, -(?P=pos1)\.xyzx$\n
^\s*?rsq (?P=pos1)\.w, (?P=pos1)\.w$\n
^\s*?mul (?P<pos6>r\d+)\.xyz, (?P=pos1)\.wwww, -(?P=pos1)\.xyzx$\n
)

[ShaderRegexDP4ObjectsPS1.Pattern.Replace]
${section0}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
dp4 ${tmp1}.x, ${pos0}.xyzw, ${pos5}.xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${pos0}.x, -${stereo}.x, ${tmp4}.x, ${pos0}.x\n
dp4 ${tmp2}.${pos1_x}, ${pos0}.xyzw, ${pos2}.xyzw\n
dp4 ${tmp2}.${pos1_y}, ${pos0}.xyzw, ${pos3}.xyzw\n
dp4 ${tmp2}.${pos1_z}, ${pos0}.xyzw, ${pos4}.xyzw\n
dp4 ${tmp2}.${pos1_w}, ${pos0}.xyzw, ${pos5}.xyzw\n
div ${tmp2}.xyz, ${tmp2}.${pos1_sw}, ${tmp2}.${pos1_w}${pos1_w}${pos1_w}${pos1_w}\n
mul ${tmp4}.y, ${tmp1}.x, ${stereo}.y\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${pos0}.x, ${stereo}.x, ${tmp4}.y, ${pos0}.x\n
${section1}\n
${section1a}\n
${section1b}\n
dp3 ${pos1}.w, -${tmp2}.xyzx, -${tmp2}.xyzx\n
rsq ${pos1}.w, ${pos1}.w\n
mul ${pos6}.xyz, ${pos1}.wwww, -${tmp2}.xyzx\n

[ShaderRegexDP4ObjectsPS1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120


[ShaderRegexDP4ObjectsPS1_nospec]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp4
[ShaderRegexDP4ObjectsPS1_nospec.Pattern]
(?P<section0>
^\s*?mov (?P<pos0>r\d+)\.w, l\(1\.000000\)$\n
)
(?P<section1>
^\s*?dp4 (?P<pos1>r\d+)\.(?P<pos1_x>[xyzw]), (?P=pos0)\.xyzw, (?P<pos2>r\d+)\.xyzw$\n
^\s*?dp4 (?P=pos1)\.(?P<pos1_y>[xyzw]), (?P=pos0)\.xyzw, (?P<pos3>r\d+)\.xyzw$\n
^\s*?dp4 (?P=pos1)\.(?P<pos1_z>[xyzw]), (?P=pos0)\.xyzw, (?P<pos4>r\d+)\.xyzw$\n
^\s*?dp4 (?P=pos1)\.(?P<pos1_w>[xyzw]), (?P=pos0)\.xyzw, (?P<pos5>r\d+)\.xyzw$\n
^\s*?div (?P=pos1)\.xyz, (?P=pos1)\.(?P<pos1_sw>[xyzw]{4}), (?P=pos1)\.(?P=pos1_w){4}$\n
)
(?P<section1a>
^\s*?add (?P=pos1)\.xyz, -r\d+\.xyzx, (?P=pos1)\.xyzx$\n
)

[ShaderRegexDP4ObjectsPS1_nospec.Pattern.Replace]
${section0}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
dp4 ${tmp1}.x, ${pos0}.xyzw, ${pos5}.xyzw\n
ge ${tmp4}.w, cb0[${iniparams15u}.x + 0].x, l(20.0)\n
if_nz ${tmp4}.w\n
mul ${tmp4}.x, l(0.5), cb0[${iniparams15u}.x + 0].x\n
else\n
mul ${tmp4}.x, l(0.5), cb1[${iniparams15u}.x + 0].x\n
endif\n
mad ${tmp4}.y, ${tmp1}.x, ${stereo}.y, l(-1.0)\n
mul ${tmp4}.y, ${tmp4}.y, ${tmp4}.x\n
mad ${pos0}.x, ${stereo}.x, ${tmp4}.y, ${pos0}.x\n
${section1}\n
${section1a}

[ShaderRegexDP4ObjectsPS1_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120



;[ShaderRegex_Haloing_VS1]
;shader_model = vs_4_0 vs_5_0
;temps = stereo tmp1
;
;[ShaderRegex_Haloing_VS1.Pattern]
;(?P<section1>
;^\s*add (?P<pos>r\d+)\.xyzw, r\d+\.xyzw, cb1\[3\]\.xyzw$\n
;)
;(?P<section2>
;^\s*mov o0\.xyzw, (?P=pos)\.xyzw$\n
;^\s*mov o1.xyzw, (?P=pos)\.xyzw$\n
;)
;
;[ShaderRegex_Haloing_VS1.Pattern.Replace]
;${section1}\n
;ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
;add ${tmp1}.x, ${pos}.w, -${stereo}.y\n
;mad ${pos}.x, ${stereo}.x, ${tmp1}.x, ${pos}.x\n
;${section2}
;
;[ShaderRegex_Haloing_VS1.InsertDeclarations]
;dcl_resource_texture2d (float,float,float,float) t125
;dcl_constantbuffer cb12[1], immediateIndexed



[ShaderRegex_113_TAA_1]
shader_model = ps_4_0 ps_4_1 ps_5_0
temps = stereo tmp1 tmp2 tmp3 prestereo
[ShaderRegex_113_TAA_1.Pattern]
(?P<Section2>^\s*div (?P<REG1>r\d+)\.(?P<Div1Swizz>[xyzw]{2,3}), (?P<RegV1>v\d+)\.x(?P<RestSwizz1>[xyzw]{3}), (?P<RegV1a>[vr]\d+)\.(?P<SwizzW1>[xyzw])(?P=SwizzW1)(?P=SwizzW1)(?P=SwizzW1)$\n)
(?P<Section21>^\s*add r\d+\.[xyzw]{2}, r\d+\.[xyzw]{4}, -cb\d\[\d+\]\.[xyzw]{4}$\n)
(?P<Section3>^\s*div (?P<REG2>r\d+)\.(?P<Div2Swizz>[xyzw]{2,3}), (?P<RegV2>v\d+)\.x(?P<RestSwizz2>[xyzw]{3}), (?P<RegV2a>[vr]\d+)\.(?P<SwizzW2>[xyzw])(?P=SwizzW2)(?P=SwizzW2)(?P=SwizzW2)$\n)
(?P<Section31>^\s*add r\d+\.[xyzw]{2}, r\d+\.[xyzw]{4}, -cb\d\[\d+\]\.[xyzw]{4}$\n)
[ShaderRegex_113_TAA_1.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture2d)(float,float,float,float) ${prestereo}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
mov ${tmp1}.xyzw, ${RegV1}.xyzw\n
mov ${tmp2}.xyzw, ${RegV2}.xyzw\n
add ${tmp3}.y, ${RegV1a}.${SwizzW1}, -${stereo}.y\n
mad ${tmp1}.x, ${stereo}.x, ${tmp3}.y, ${tmp1}.x\n
div ${REG1}.${Div1Swizz}, ${tmp1}.x${RestSwizz1}, ${RegV1a}.${SwizzW1}${SwizzW1}${SwizzW1}${SwizzW1}\n
${Section21}\n
add ${tmp3}.y, ${RegV2a}.${SwizzW2}, -${prestereo}.y\n
mad ${tmp2}.x, ${prestereo}.x, ${tmp3}.y, ${tmp2}.x\n
div ${REG2}.${Div2Swizz}, ${tmp2}.x${RestSwizz2}, ${RegV2a}.${SwizzW2}${SwizzW2}${SwizzW2}${SwizzW2}\n
${Section31}\n
[ShaderRegex_113_TAA_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125



[ShaderRegex_113_TAA_2]
shader_model = ps_4_0 ps_4_1 ps_5_0
temps = stereo tmp1 tmp2 tmp3 prestereo
[ShaderRegex_113_TAA_2.Pattern]
(?P<Section2>^\s*div (?P<REG1>r\d+)\.(?P<Div1Swizz>[xyzw]{2,3}), (?P<RegV1>r\d+)\.x(?P<RestSwizz1>[xyzw]{3}), (?P<RegV1a>[vr]\d+)\.(?P<SwizzW1>[xyzw])(?P=SwizzW1)(?P=SwizzW1)(?P=SwizzW1)$\n)
(?P<Section21>^\s*add r+\d\.[xyzw]{2}, r\d+\.[xyzw]{4}, -cb\d\[\d+\]\.[xyzw]{4}$\n)
(?P<Section3>^\s*div (?P<REG2>r\d+)\.(?P<Div2Swizz>[xyzw]{2,3}), (?P<RegV2>v\d+)\.x(?P<RestSwizz2>[xyzw]{3}), (?P<RegV2a>[vr]\d+)\.(?P<SwizzW2>[xyzw])(?P=SwizzW2)(?P=SwizzW2)(?P=SwizzW2)$\n)
(?P<Section31>^\s*add r+\d\.[xyzw]{2}, r\d+\.[xyzw]{4}, -cb\d\[\d+\]\.[xyzw]{4}$\n)
[ShaderRegex_113_TAA_2.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture2d)(float,float,float,float) ${prestereo}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
mov ${tmp1}.xyzw, ${RegV1}.xyzw\n
mov ${tmp2}.xyzw, ${RegV2}.xyzw\n
//add ${tmp3}.y, ${RegV1a}.${SwizzW1}, -${stereo}.y\n
//mad ${tmp1}.x, ${stereo}.x, ${tmp3}.y, ${tmp1}.x\n
div ${REG1}.${Div1Swizz}, ${tmp1}.x${RestSwizz1}, ${RegV1a}.${SwizzW1}${SwizzW1}${SwizzW1}${SwizzW1}\n
${Section21}\n
//add ${tmp3}.y, ${RegV2a}.${SwizzW2}, -${prestereo}.y\n
add ${tmp3}.y, ${tmp2}.w, -${prestereo}.y\n
mad ${tmp2}.x, ${prestereo}.x, ${tmp3}.y, ${tmp2}.x\n
div ${REG2}.${Div2Swizz}, ${tmp2}.x${RestSwizz2}, ${RegV2a}.${SwizzW2}${SwizzW2}${SwizzW2}${SwizzW2}\n
${Section31}\n
[ShaderRegex_113_TAA_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125


[ShaderRegex_113_TAA_3]
shader_model = ps_4_0 ps_4_1 ps_5_0
temps = tmp1 tmp2 tmp3 prestereo
[ShaderRegex_113_TAA_3.Pattern]
(?P<Section2>^\s*if_nz r\d+\.[xyzw]$\n)
(?P<Section21>^\s*add r\d\.[xyzw]{2}, r\d+\.[xyzw]{4}, -cb\d\[\d+\]\.[xyzw]{4}$\n)
(?P<Section3>^\s*div (?P<REG2>r\d+)\.(?P<Div2Swizz>[xyzw]{2,3}), (?P<RegV2>v\d+)\.x(?P<RestSwizz2>[xyzw]{3}), (?P<RegV2a>[vr]\d+)\.(?P<SwizzW2>[xyzw])(?P=SwizzW2)(?P=SwizzW2)(?P=SwizzW2)$\n)
(?P<Section31>^\s*add r\d+\.[xyzw]{2}, r\d+\.[xyzw]{4}, -cb\d\[\d+\]\.[xyzw]{4}$\n)
[ShaderRegex_113_TAA_3.Pattern.Replace]
${Section2}\n
ld_indexable(texture2d)(float,float,float,float) ${prestereo}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
mov ${tmp2}.xyzw, ${RegV2}.xyzw\n
${Section21}\n
//add ${tmp3}.y, ${RegV2a}.${SwizzW2}, -${prestereo}.y\n
add ${tmp3}.y, ${tmp2}.w, -${prestereo}.y\n
mad ${tmp2}.x, ${prestereo}.x, ${tmp3}.y, ${tmp2}.x\n
div ${REG2}.${Div2Swizz}, ${tmp2}.x${RestSwizz2}, ${RegV2a}.${SwizzW2}${SwizzW2}${SwizzW2}${SwizzW2}\n
${Section31}\n
[ShaderRegex_113_TAA_3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125



[ShaderRegexTAAMainPS1]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 prev
[ShaderRegexTAAMainPS1.Pattern]
^\s*?mul (?P<pos1>r\d+)\.(?P<pos1_sw1>[xyzw]{3}), (?P<pos0y>[vr]\d+)\.(?P<pos0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>(118)|(122))\]\.(?P<cby_sw1>[xyzw]{4})$\n
^\s*?mad (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3}), (?P<pos0>[vr]\d+)\.(?P<pos0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>(117)|(121))\]\.(?P<cbx_sw1>[xyzw]{4}), (?P=pos1)\.(?P<pos1_sw2>[xyzw]{4})$\n
^\s*?mad (?P<pos3>r\d+)\.(?P<pos3_sw1>[xyzw]{3}), (?P<depth>r\d+)\.(?P<depth_x>[xyzw]){4}, (?P=cb)\[(?P<cb_z>(119)|(123))\]\.(?P<cbz_sw1>[xyzw]{4}), (?P=pos2)\.(?P<pos2_sw2>[xyzw]{4})$\n
^\s*?add (?P<pos4>r\d+)\.(?P<pos4_x>[xyzw])(?P<pos4_y>[xyzw])(?P<pos4_z>[xyzw]), (?P=pos3)\.(?P<pos3_sw2>[xyzw]{4}), (?P=cb)\[(?P<cb_w>(120)|(124))\]\.(?P<cbw_sw1>[xyzw]{4})$\n
[ShaderRegexTAAMainPS1.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture2d)(float,float,float,float) ${prev}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.${pos0_x}, ${pos0}.${pos0_x}\n
mov ${tmp2}.y, ${depth}.${depth_x}\n
mul ${tmp2}.x, ${stereo}.y, ${depth}.${depth_x}\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${tmp2}.x, l(1.0)\n
mad ${tmp1}.${pos0_x}, -${stereo}.x, ${tmp2}.x, ${tmp1}.${pos0_x}\n
mul ${pos1}.${pos1_sw1}, ${pos0y}.${pos0_y}${pos0_y}${pos0_y}${pos0_y}, ${cb}[${cb_y}].${cby_sw1}\n
mad ${pos2}.${pos2_sw1}, ${tmp1}.${pos0_x}${pos0_x}${pos0_x}${pos0_x}, ${cb}[${cb_x}].${cbx_sw1}, ${pos1}.${pos1_sw2}\n
//Pattern break.\n
mad ${pos3}.${pos3_sw1}, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].${cbz_sw1}, ${pos2}.${pos2_sw2}\n
add ${pos4}.${pos4_x}${pos4_y}${pos4_z}, ${pos3}.${pos3_sw2}, ${cb}[${cb_w}].${cbw_sw1}\n
mul ${tmp2}.x, ${prev}.y, ${tmp2}.y\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${pos4}.${pos4_z}, ${tmp2}.x\n
mad ${pos4}.${pos4_x}, ${prev}.x, ${tmp2}.x, ${pos4}.${pos4_x}\n
[ShaderRegexTAAMainPS1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120




[ShaderRegexTAAMainPS2]
shader_model = ps_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 prev
[ShaderRegexTAAMainPS2.Pattern]
^\s*?mul (?P<pos1>r\d+)\.xyzw, (?P<pos0>[vr]\d+)\.(?P<pos0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>(118)|(122))\]\.xyzw$\n
^\s*?mad (?P<pos2>r\d+)\.xyzw, (?P=pos0)\.(?P<pos0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>(117)|(121))\]\.xyzw, (?P=pos1)\.xyzw$\n
^\s*?mad (?P<pos3>r\d+)\.xyzw, (?P<depth>r\d+)\.(?P<depth_x>[xyzw]){4}, (?P=cb)\[(?P<cb_z>(119)|(123))\]\.xyzw, (?P=pos2)\.xyzw$\n
^\s*?add (?P<pos4>r\d+)\.xyzw, (?P=pos3)\.xyzw, (?P=cb)\[(?P<cb_w>(120)|(124))\]\.xyzw$\n
[ShaderRegexTAAMainPS2.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture2d)(float,float,float,float) ${prev}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.${pos0_x}, ${pos0}.${pos0_x}\n
mov ${tmp2}.y, ${depth}.${depth_x}\n
mul ${tmp2}.x, ${stereo}.y, ${depth}.${depth_x}\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${tmp2}.x, l(1.0)\n
mad ${tmp1}.${pos0_x}, -${stereo}.x, ${tmp2}.x, ${tmp1}.${pos0_x}\n
mul ${pos1}.xyzw, ${pos0}.${pos0_y}${pos0_y}${pos0_y}${pos0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos2}.xyzw, ${tmp1}.${pos0_x}${pos0_x}${pos0_x}${pos0_x}, ${cb}[${cb_x}].xyzw, ${pos1}.xyzw\n
//Pattern break.\n
mad ${pos3}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${pos2}.xyzw\n
add ${pos4}.xyzw, ${pos3}.xyzw, ${cb}[${cb_w}].xyzw\n
mul ${tmp2}.x, ${prev}.y, ${tmp2}.y\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${pos4}.w, ${tmp2}.x\n
mad ${pos4}.x, ${prev}.x, ${tmp2}.x, ${pos4}.x\n
[ShaderRegexTAAMainPS2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120


[ShaderRegexTAAMainCS1]
shader_model = cs_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3
[ShaderRegexTAAMainCS1.Pattern]
^\s*?mul (?P<pos1>r\d+)\.(?P<pos1_sw1>[xyzw]{3}), (?P<pos0y>r\d+)\.(?P<pos0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>(118)|(122))\]\.(?P<cby_sw1>[xyzw]{4})$\n
^\s*?mad (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3}), (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>(117)|(121))\]\.(?P<cbx_sw1>[xyzw]{4}), (?P=pos1)\.(?P<pos1_sw2>[xyzw]{4})$\n
^\s*?mad (?P<pos3>r\d+)\.(?P<pos3_sw1>[xyzw]{3}), (?P<depth>r\d+)\.(?P<depth_x>[xyzw]){4}, (?P=cb)\[(?P<cb_z>(119)|(123))\]\.(?P<cbz_sw1>[xyzw]{4}), (?P=pos2)\.(?P<pos2_sw2>[xyzw]{4})$\n
^\s*?add (?P<pos4>r\d+)\.(?P<pos4_x>[xyzw])(?P<pos4_y>[xyzw])(?P<pos4_z>[xyzw]), (?P=pos3)\.(?P<pos3_sw2>[xyzw]{4}), (?P=cb)\[(?P<cb_w>(120)|(124))\]\.(?P<cbw_sw1>[xyzw]{4})$\n
[ShaderRegexTAAMainCS1.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.${pos0_x}, ${pos0}.${pos0_x}\n
mov ${tmp2}.y, ${depth}.${depth_x}\n
mul ${tmp2}.x, ${stereo}.y, ${depth}.${depth_x}\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${tmp2}.x, l(1.0)\n
mad ${tmp1}.${pos0_x}, -${stereo}.x, ${tmp2}.x, ${tmp1}.${pos0_x}\n
mul ${pos1}.${pos1_sw1}, ${pos0y}.${pos0_y}${pos0_y}${pos0_y}${pos0_y}, ${cb}[${cb_y}].${cby_sw1}\n
mad ${pos2}.${pos2_sw1}, ${tmp1}.${pos0_x}${pos0_x}${pos0_x}${pos0_x}, ${cb}[${cb_x}].${cbx_sw1}, ${pos1}.${pos1_sw2}\n
//Pattern break.\n
mad ${pos3}.${pos3_sw1}, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].${cbz_sw1}, ${pos2}.${pos2_sw2}\n
add ${pos4}.${pos4_x}${pos4_y}${pos4_z}, ${pos3}.${pos3_sw2}, ${cb}[${cb_w}].${cbw_sw1}\n
mul ${tmp2}.x, cb14[2].y, ${tmp2}.y\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${pos4}.${pos4_z}, ${tmp2}.x\n
mad ${pos4}.${pos4_x}, cb14[2].x, ${tmp2}.x, ${pos4}.${pos4_x}\n
[ShaderRegexTAAMainCS1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120
dcl_constantbuffer CB14[3], immediateIndexed



[ShaderRegexTAAMainCS2Z]
shader_model = cs_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3
[ShaderRegexTAAMainCS2Z.Pattern]
^\s*?mul (?P<pos1>r\d+)\.xyzw, (?P<pos0>r\d+)\.(?P<pos0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>(118)|(122))\]\.xyzw$\n
^\s*?mad (?P<pos2>r\d+)\.xyzw, (?P<pos0a>r\d+)\.(?P<pos0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>(117)|(121))\]\.xyzw, (?P=pos1)\.xyzw$\n
^\s*?mad (?P<pos3>r\d+)\.xyzw, (?P<depth>r\d+)\.(?P<depth_x>[xyzw]){4}, (?P=cb)\[(?P<cb_z>(119)|(123))\]\.xyzw, (?P=pos2)\.xyzw$\n
^\s*?add (?P<pos4>r\d+)\.xyzw, (?P=pos3)\.xyzw, (?P=cb)\[(?P<cb_w>(120)|(124))\]\.xyzw$\n
[ShaderRegexTAAMainCS2Z.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.${pos0_x}, ${pos0a}.${pos0_x}\n
mov ${tmp2}.y, ${depth}.${depth_x}\n
mul ${tmp2}.x, ${stereo}.y, ${depth}.${depth_x}\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${tmp2}.x, l(1.0)\n
mad ${tmp1}.${pos0_x}, -${stereo}.x, ${tmp2}.x, ${tmp1}.${pos0_x}\n
mul ${pos1}.xyzw, ${pos0}.${pos0_y}${pos0_y}${pos0_y}${pos0_y}, ${cb}[${cb_y}].xyzw\n
mad ${pos2}.xyzw, ${tmp1}.${pos0_x}${pos0_x}${pos0_x}${pos0_x}, ${cb}[${cb_x}].xyzw, ${pos1}.xyzw\n
//Pattern break.\n
mad ${pos3}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${pos2}.xyzw\n
add ${pos4}.xyzw, ${pos3}.xyzw, ${cb}[${cb_w}].xyzw\n
mul ${tmp2}.x, cb14[2].y, ${tmp2}.y\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${pos4}.w, ${tmp2}.x\n
mad ${pos4}.x, cb14[2].x, ${tmp2}.x, ${pos4}.x\n
[ShaderRegexTAAMainCS2Z.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120
dcl_constantbuffer CB14[3], immediateIndexed



[ShaderRegexTAAMainCS2Double]
shader_model = cs_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 tmp4
[ShaderRegexTAAMainCS2Double.Pattern]
(?P<section0>
^\s*?mul (?P<pos1>r\d+)\.(?P<pos1_sw1>[xyzw]{3}), (?P<pos0>r\d+)\.(?P<pos0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>((118)|(122)))\]\.(?P<cby_sw1>[xyzw]{4})$\n
^\s*?mad (?P<pos2>r\d+)\.(?P<pos2_sw1>[xyzw]{3}), (?P=pos0)\.(?P<pos0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>((117)|(121)))\]\.(?P<cbx_sw1>[xyzw]{4}), (?P=pos1)\.(?P<pos1_sw2>[xyzw]{4})$\n
^\s*?mad (?P<pos3a>r\d+)\.(?P<pos3a_sw1>[xyzw]{3}), (?P<depth1>r\d+)\.(?P<depth1_x>[xyzw]){4}, (?P=cb)\[(?P<cb_z>((119)|(123)))\]\.(?P<cbza_sw1>[xyzw]{4}), (?P=pos2)\.(?P<pos2a_sw2>[xyzw]{4})$\n
^\s*?mad (?P<pos3>r\d+)\.(?P<pos3_sw1>[xyzw]{3}), (?P<depth>r\d+)\.(?P<depth_x>[xyzw]){4}, (?P=cb)\[(?P=cb_z)\]\.(?P<cbz_sw1>[xyzw]{4}), (?P=pos2)\.(?P<pos2_sw2>[xyzw]{4})$\n
^\s*?add (?P<pos4>r\d+)\.(?P<pos4_x>[xyzw])(?P<pos4_y>[xyzw])(?P<pos4_z>[xyzw]), (?P=pos3)\.(?P<pos3_sw2>[xyzw]{4}), (?P=cb)\[(?P<cb_w>((120)|(124)))\]\.(?P<cbw_sw1>[xyzw]{4})$\n
)
(?P<section1>
^\s*?div r\d+\.[xyzw]{2,4}, (?P=pos4)\.[xyzw]{4}, (?P=pos4)\.[xyzw]{4}$\n
)
(?P<section2>
^\s*?add (?P<pos4a>r\d+)\.(?P<pos4a_x>[xyzw])(?P<pos4a_y>[xyzw])(?P<pos4a_z>[xyzw]), (?P=pos3a)\.(?P<pos3a_sw2>[xyzw]{4}), (?P=cb)\[(?P=cb_w)\]\.(?P<cbwa_sw1>[xyzw]{4})$\n
)
[ShaderRegexTAAMainCS2Double.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.${pos0_x}, ${pos0}.${pos0_x}\n
mov ${tmp3}.${pos0_x}, ${pos0}.${pos0_x}\n
mov ${tmp2}.y, ${depth}.${depth_x}\n
mov ${tmp2}.z, ${depth1}.${depth1_x}\n
mul ${tmp2}.x, ${stereo}.y, ${depth}.${depth_x}\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${tmp2}.x, l(1.0)\n
mad ${tmp1}.${pos0_x}, -${stereo}.x, ${tmp2}.x, ${tmp1}.${pos0_x}\n
mul ${tmp2}.x, ${stereo}.y, ${depth1}.${depth1_x}\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${tmp2}.x, l(1.0)\n
mad ${tmp3}.${pos0_x}, -${stereo}.x, ${tmp2}.x, ${tmp3}.${pos0_x}\n
mul ${pos1}.${pos1_sw1}, ${pos0}.${pos0_y}${pos0_y}${pos0_y}${pos0_y}, ${cb}[${cb_y}].${cby_sw1}\n
mad ${tmp4}.${pos2_sw1}, ${tmp3}.${pos0_x}${pos0_x}${pos0_x}${pos0_x}, ${cb}[${cb_x}].${cbx_sw1}, ${pos1}.${pos1_sw2}\n
mad ${pos2}.${pos2_sw1}, ${tmp1}.${pos0_x}${pos0_x}${pos0_x}${pos0_x}, ${cb}[${cb_x}].${cbx_sw1}, ${pos1}.${pos1_sw2}\n
//Pattern break.\n
mad ${pos3a}.${pos3a_sw1}, ${depth1}.${depth1_x}${depth1_x}${depth1_x}${depth1_x}, ${cb}[${cb_z}].${cbza_sw1}, ${tmp4}.${pos2a_sw2}\n
mad ${pos3}.${pos3_sw1}, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].${cbz_sw1}, ${pos2}.${pos2_sw2}\n
add ${pos4}.${pos4_x}${pos4_y}${pos4_z}, ${pos3}.${pos3_sw2}, ${cb}[${cb_w}].${cbw_sw1}\n
mul ${tmp2}.x, cb14[2].y, ${tmp2}.y\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${pos4}.${pos4_z}, ${tmp2}.x\n
mad ${pos4}.${pos4_x}, cb14[2].x, ${tmp2}.x, ${pos4}.${pos4_x}\n
${section1}\n
${section2}\n
mul ${tmp2}.x, cb14[2].y, ${tmp2}.z\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${pos4a}.${pos4a_z}, ${tmp2}.x\n
mad ${pos4a}.${pos4a_x}, cb14[2].x, ${tmp2}.x, ${pos4a}.${pos4a_x}\n
[ShaderRegexTAAMainCS2Double.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120
dcl_constantbuffer CB14[3], immediateIndexed



[ShaderRegexTAAMainCS2Double2]
shader_model = cs_5_0
temps = stereo iniparams15 iniparams15u tmp1 tmp2 tmp3 tmp4
[ShaderRegexTAAMainCS2Double2.Pattern]
^\s*?mul (?P<pos1>r\d+)\.xyzw, (?P<pos0>r\d+)\.(?P<pos0_y>[xyzw]){4}, (?P<cb>cb\d+)\[(?P<cb_y>(118)|(122))\]\.xyzw$\n
^\s*?mad (?P<pos2>r\d+)\.xyzw, (?P=pos0)\.(?P<pos0_x>[xyzw]){4}, (?P=cb)\[(?P<cb_x>(117)|(121))\]\.xyzw, (?P=pos1)\.xyzw$\n
^\s*?mad (?P<pos3a>r\d+)\.xyzw, (?P<depth1>r\d+)\.(?P<depth1_x>[xyzw]){4}, (?P=cb)\[(?P<cb_z>(119)|(123))\]\.xyzw, (?P=pos2)\.xyzw$\n
^\s*?add (?P<pos4a>r\d+)\.xyzw, (?P=pos3a)\.xyzw, (?P=cb)\[(?P<cb_w>(120)|(124))\]\.xyzw$\n
^\s*?mad (?P<pos3>r\d+)\.xyzw, (?P<depth>r\d+)\.(?P<depth_x>[xyzw]){4}, (?P=cb)\[(?P=cb_z)\]\.xyzw, (?P=pos2)\.xyzw$\n
^\s*?add (?P<pos4>r\d+)\.xyzw, (?P=pos3)\.xyzw, (?P=cb)\[(?P=cb_w)\]\.xyzw$\n
[ShaderRegexTAAMainCS2Double2.Pattern.Replace]
\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
ld_indexable(texture1d)(float,float,float,float) ${iniparams15}.xyzw, l(15, 0, 0, 0), t120.xyzw\n
ftou ${iniparams15u}.xyzw, ${iniparams15}.xyzw\n
mov ${tmp1}.${pos0_x}, ${pos0}.${pos0_x}\n
mov ${tmp3}.${pos0_x}, ${pos0}.${pos0_x}\n
mov ${tmp2}.y, ${depth}.${depth_x}\n
mov ${tmp2}.z, ${depth1}.${depth1_x}\n
mul ${tmp2}.x, ${stereo}.y, ${depth}.${depth_x}\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${tmp2}.x, l(1.0)\n
mad ${tmp1}.${pos0_x}, -${stereo}.x, ${tmp2}.x, ${tmp1}.${pos0_x}\n
mul ${tmp2}.x, ${stereo}.y, ${depth1}.${depth1_x}\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${tmp2}.x, l(1.0)\n
mad ${tmp3}.${pos0_x}, -${stereo}.x, ${tmp2}.x, ${tmp3}.${pos0_x}\n
mul ${pos1}.xyzw, ${pos0}.${pos0_y}${pos0_y}${pos0_y}${pos0_y}, ${cb}[${cb_y}].xyzw\n
mad ${tmp4}.xyzw, ${tmp3}.${pos0_x}${pos0_x}${pos0_x}${pos0_x}, ${cb}[${cb_x}].xyzw, ${pos1}.xyzw\n
mad ${pos2}.xyzw, ${tmp1}.${pos0_x}${pos0_x}${pos0_x}${pos0_x}, ${cb}[${cb_x}].xyzw, ${pos1}.xyzw\n
//Pattern break.\n
mad ${pos3a}.xyzw, ${depth1}.${depth1_x}${depth1_x}${depth1_x}${depth1_x}, ${cb}[${cb_z}].xyzw, ${tmp4}.xyzw\n
add ${pos4a}.xyzw, ${pos3a}.xyzw, ${cb}[${cb_w}].xyzw\n
mad ${pos3}.xyzw, ${depth}.${depth_x}${depth_x}${depth_x}${depth_x}, ${cb}[${cb_z}].xyzw, ${pos2}.xyzw\n
add ${pos4}.xyzw, ${pos3}.xyzw, ${cb}[${cb_w}].xyzw\n
mul ${tmp2}.x, cb14[2].y, ${tmp2}.y\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${pos4}.w, ${tmp2}.x\n
mad ${pos4}.x, cb14[2].x, ${tmp2}.x, ${pos4}.x\n
mul ${tmp2}.x, cb14[2].y, ${tmp2}.z\n
mul ${tmp2}.x, ${tmp2}.x, -${cb}[${iniparams15u}.y + 0].w\n
add ${tmp2}.x, ${pos4a}.w, ${tmp2}.x\n
mad ${pos4a}.x, cb14[2].x, ${tmp2}.x, ${pos4a}.x\n
[ShaderRegexTAAMainCS2Double2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_resource_texture1d (float,float,float,float) t120
dcl_constantbuffer CB14[3], immediateIndexed


;------- Multiple halos that fix SSR or similar things -----------
[ShaderRegexHaloPS2TempDouble_1]
shader_model = ps_5_0
temps = prev tmp1
[ShaderRegexHaloPS2TempDouble_1.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[9\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[8\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[10\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloPS2TempDouble_1.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${prev}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -${prev}.y\n
mad ${pos0}.${pos0_x}, ${prev}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexHaloPS2TempDouble_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS2TempDouble_2]
shader_model = ps_5_0
temps = prev tmp1
[ShaderRegexHaloPS2TempDouble_2.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[9\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[8\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[10\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloPS2TempDouble_2.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${prev}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -${prev}.y\n
mad ${pos0}.${pos0_x}, ${prev}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexHaloPS2TempDouble_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS2TempDouble_3]
shader_model = ps_5_0
temps = prev tmp1
[ShaderRegexHaloPS2TempDouble_3.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[9\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[8\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[10\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloPS2TempDouble_3.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${prev}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -${prev}.y\n
mad ${pos0}.${pos0_x}, ${prev}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexHaloPS2TempDouble_3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS2TempDouble_4]
shader_model = ps_5_0
temps = prev tmp1
[ShaderRegexHaloPS2TempDouble_4.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[9\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[8\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[10\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloPS2TempDouble_4.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${prev}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -${prev}.y\n
mad ${pos0}.${pos0_x}, ${prev}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexHaloPS2TempDouble_4.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS2TempDouble_5]
shader_model = ps_5_0
temps = prev tmp1
[ShaderRegexHaloPS2TempDouble_5.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[9\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[8\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[10\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloPS2TempDouble_5.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${prev}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -${prev}.y\n
mad ${pos0}.${pos0_x}, ${prev}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexHaloPS2TempDouble_5.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS2TempDouble_6]
shader_model = ps_5_0
temps = prev tmp1
[ShaderRegexHaloPS2TempDouble_6.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[9\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[8\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[10\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloPS2TempDouble_6.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${prev}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -${prev}.y\n
mad ${pos0}.${pos0_x}, ${prev}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexHaloPS2TempDouble_6.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS2TempDouble_7]
shader_model = ps_5_0
temps = prev tmp1
[ShaderRegexHaloPS2TempDouble_7.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[9\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[8\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[10\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloPS2TempDouble_7.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${prev}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -${prev}.y\n
mad ${pos0}.${pos0_x}, ${prev}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexHaloPS2TempDouble_7.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125




[ShaderRegexHaloCS2TempDouble_1]
shader_model = cs_5_0
temps = tmp1
[ShaderRegexHaloCS2TempDouble_1.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[9\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[8\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[10\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloCS2TempDouble_1.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -cb14[2].y\n
mad ${pos0}.${pos0_x}, cb14[2].x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexHaloCS2TempDouble_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_constantbuffer CB14[3], immediateIndexed

[ShaderRegexHaloCS2TempDouble_2]
shader_model = cs_5_0
temps = tmp1
[ShaderRegexHaloCS2TempDouble_2.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[9\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[8\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[10\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloCS2TempDouble_2.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -cb14[2].y\n
mad ${pos0}.${pos0_x}, cb14[2].x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexHaloCS2TempDouble_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_constantbuffer CB14[3], immediateIndexed

[ShaderRegexHaloCS2TempDouble_3]
shader_model = cs_5_0
temps = tmp1
[ShaderRegexHaloCS2TempDouble_3.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[9\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[8\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[10\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloCS2TempDouble_3.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -cb14[2].y\n
mad ${pos0}.${pos0_x}, cb14[2].x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexHaloCS2TempDouble_3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_constantbuffer CB14[3], immediateIndexed

[ShaderRegexHaloCS2TempDouble_4]
shader_model = cs_5_0
temps = tmp1
[ShaderRegexHaloCS2TempDouble_4.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[9\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[8\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[10\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloCS2TempDouble_4.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -cb14[2].y\n
mad ${pos0}.${pos0_x}, cb14[2].x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexHaloCS2TempDouble_4.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_constantbuffer CB14[3], immediateIndexed

[ShaderRegexHaloCS2TempDouble_5]
shader_model = cs_5_0
temps = tmp1
[ShaderRegexHaloCS2TempDouble_5.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[9\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[8\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[10\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloCS2TempDouble_5.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -cb14[2].y\n
mad ${pos0}.${pos0_x}, cb14[2].x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexHaloCS2TempDouble_5.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_constantbuffer CB14[3], immediateIndexed

[ShaderRegexHaloCS2TempDouble_6]
shader_model = cs_5_0
temps = tmp1
[ShaderRegexHaloCS2TempDouble_6.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[9\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[8\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[10\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloCS2TempDouble_6.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -cb14[2].y\n
mad ${pos0}.${pos0_x}, cb14[2].x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexHaloCS2TempDouble_6.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_constantbuffer CB14[3], immediateIndexed

[ShaderRegexHaloCS2TempDouble_7]
shader_model = cs_5_0
temps = tmp1
[ShaderRegexHaloCS2TempDouble_7.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[9\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[8\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*mad r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, cb\d\[10\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloCS2TempDouble_7.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -cb14[2].y\n
mad ${pos0}.${pos0_x}, cb14[2].x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexHaloCS2TempDouble_7.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_constantbuffer CB14[3], immediateIndexed




[ShaderRegexHaloPS2TempSimple_1]
shader_model = ps_5_0
temps = prev tmp1
[ShaderRegexHaloPS2TempSimple_1.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_y>(5)|(9)|(17))\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_x>(4)|(8)|(16))\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_z>(6)|(10)|(18))\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_w>(7)|(11)|(19))\]\.[xyzw]{4}$\n
)
(?P<section1>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloPS2TempSimple_1.Pattern.Replace]
${section0}\n
//Pattern break.\n
ld_indexable(texture2d)(float,float,float,float) ${prev}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -${prev}.y\n
mad ${pos0}.${pos0_x}, ${prev}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section1}
[ShaderRegexHaloPS2TempSimple_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS2TempSimple_2]
shader_model = ps_5_0
temps = prev tmp1
[ShaderRegexHaloPS2TempSimple_2.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_y>(5)|(9)|(17))\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_x>(4)|(8)|(16))\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_z>(6)|(10)|(18))\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_w>(7)|(11)|(19))\]\.[xyzw]{4}$\n
)
(?P<section1>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloPS2TempSimple_2.Pattern.Replace]
${section0}\n
//Pattern break.\n
ld_indexable(texture2d)(float,float,float,float) ${prev}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -${prev}.y\n
mad ${pos0}.${pos0_x}, ${prev}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section1}
[ShaderRegexHaloPS2TempSimple_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS2TempSimple_3]
shader_model = ps_5_0
temps = prev tmp1
[ShaderRegexHaloPS2TempSimple_3.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_y>(5)|(9)|(17))\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_x>(4)|(8)|(16))\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_z>(6)|(10)|(18))\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_w>(7)|(11)|(19))\]\.[xyzw]{4}$\n
)
(?P<section1>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloPS2TempSimple_3.Pattern.Replace]
${section0}\n
//Pattern break.\n
ld_indexable(texture2d)(float,float,float,float) ${prev}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -${prev}.y\n
mad ${pos0}.${pos0_x}, ${prev}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section1}
[ShaderRegexHaloPS2TempSimple_3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125


[ShaderRegexHaloPS3TempSimple_1]
shader_model = ps_5_0
temps = prev tmp1
[ShaderRegexHaloPS3TempSimple_1.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_y>(5)|(9)|(17))\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_x>(4)|(8)|(16))\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_z>(6)|(10)|(18))\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_w>(7)|(11)|(19))\]\.[xyzw]{4}$\n
)
(?P<section0a>
^\s*dp3 r\d+\.[xyzw], r\d+\.[xyzw]{4}, l\(0\.333333343, 0\.333333343, 0\.333333343, 0\.000000\)$\n
^\s*ine r\d+\.[xyzw]{2}, cb\d+\[\d+\]\.[xyzw]{4}, l\(0, 0, 0, 0\)$\n
^\s*lt r\d+\.[xyzw], l\(0\.000000\), r\d+\.y$\n
^\s*and r\d+\.[xyzw]{2}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*if_nz r\d+\.[xyzw]$\n
)
(?P<section1>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloPS3TempSimple_1.Pattern.Replace]
${section0}\n
//Pattern break.\n
ld_indexable(texture2d)(float,float,float,float) ${prev}.xyzw, l(2, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -${prev}.y\n
mad ${pos0}.${pos0_x}, ${prev}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section0a}\n
${section1}
[ShaderRegexHaloPS3TempSimple_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125




[ShaderRegexHaloCS2TempSimple_1]
shader_model = cs_5_0
temps = tmp1
[ShaderRegexHaloCS2TempSimple_1.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_y>(5)|(9)|(17)|(60))\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_x>(4)|(8)|(16)|(59))\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_z>(6)|(10)|(18)|(61))\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_w>(7)|(11)|(19)|(62))\]\.[xyzw]{4}$\n
)
(?P<section1>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloCS2TempSimple_1.Pattern.Replace]
${section0}\n
//Pattern break.\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -cb14[2].y\n
mad ${pos0}.${pos0_x}, cb14[2].x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section1}
[ShaderRegexHaloCS2TempSimple_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_constantbuffer CB14[3], immediateIndexed

[ShaderRegexHaloCS2TempSimple_2]
shader_model = cs_5_0
temps = tmp1
[ShaderRegexHaloCS2TempSimple_2.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_y>(5)|(9)|(17)|(60))\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_x>(4)|(8)|(16)|(59))\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_z>(6)|(10)|(18)|(61))\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_w>(7)|(11)|(19)|(62))\]\.[xyzw]{4}$\n
)
(?P<section1>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloCS2TempSimple_2.Pattern.Replace]
${section0}\n
//Pattern break.\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -cb14[2].y\n
mad ${pos0}.${pos0_x}, cb14[2].x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section1}
[ShaderRegexHaloCS2TempSimple_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_constantbuffer CB14[3], immediateIndexed

[ShaderRegexHaloCS2TempSimple_3]
shader_model = cs_5_0
temps = tmp1
[ShaderRegexHaloCS2TempSimple_3.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_y>(5)|(9)|(17)|(60))\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_x>(4)|(8)|(16)|(59))\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_z>(6)|(10)|(18)|(61))\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, cb\d\[(?P<cb_w>(7)|(11)|(19)|(62))\]\.[xyzw]{4}$\n
)
(?P<section1>
^\s*div r\d+\.[xyzw]{2,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
)
[ShaderRegexHaloCS2TempSimple_3.Pattern.Replace]
${section0}\n
//Pattern break.\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -cb14[2].y\n
mad ${pos0}.${pos0_x}, cb14[2].x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section1}
[ShaderRegexHaloCS2TempSimple_3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125
dcl_constantbuffer CB14[3], immediateIndexed





[ShaderRegexHaloPS1Double_1]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexHaloPS1Double_1.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, cb\d\[1\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, cb\d\[0\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, cb\d\[2\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*add r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, cb\d\[3\]\.[xyzw]{4}$\n
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, ((cb\d\[\d+\]\.xyzx)|(r\d+\.[xyzw]{4}))$\n
^\s*mul r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, cb\d\[1\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, cb\d\[0\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, cb\d\[2\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{3,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
^\s*div r\d+\.[xyzw]{3,4}, (?P<pos1>r\d+)\.(?P<pos1_x>[xyzw])[xyzw]{3}, (?P=pos1)\.(?P<pos1_w>[xyzw]){4}$\n
)
[ShaderRegexHaloPS1Double_1.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, ${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
add ${tmp1}.x, ${pos1}.${pos1_w}, -${stereo}.y\n
mad ${pos1}.${pos1_x}, ${stereo}.x, ${tmp1}.x, ${pos1}.${pos1_x}\n
${section2}
[ShaderRegexHaloPS1Double_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125


[ShaderRegexHaloPS1Double_2]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexHaloPS1Double_2.Pattern]
(?P<section0>
^\s*mul r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, cb\d\[1\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, cb\d\[0\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, cb\d\[2\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*add r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, cb\d\[3\]\.[xyzw]{4}$\n
^\s*mul r\d+\.[xyzw]{3,4}, r\d+\.[xyzw]{4}, ((cb\d\[\d+\]\.xyzx)|(r\d+\.[xyzw]{4}))$\n
^\s*mul r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, cb\d\[1\]\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, cb\d\[0\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, cb\d\[2\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*add r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*div r\d+\.[xyzw]{3,4}, (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])[xyzw]{3}, (?P=pos0)\.(?P<pos0_w>[xyzw]){4}$\n
^\s*div r\d+\.[xyzw]{3,4}, (?P<pos1>r\d+)\.(?P<pos1_x>[xyzw])[xyzw]{3}, (?P=pos1)\.(?P<pos1_w>[xyzw]){4}$\n
)
[ShaderRegexHaloPS1Double_2.Pattern.Replace]
${section0}\n
//Pattern break.\n
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.${pos0_w}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, ${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
add ${tmp1}.x, ${pos1}.${pos1_w}, -${stereo}.y\n
mad ${pos1}.${pos1_x}, ${stereo}.x, ${tmp1}.x, ${pos1}.${pos1_x}\n
${section2}
[ShaderRegexHaloPS1Double_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125


[ShaderRegexHaloPS1Simple_1]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexHaloPS1Simple_1.Pattern]
(?P<section1>
^\s*mad r\d+\.xyzw, r\d+\.[xyzw]{4}, (?P<cb>cb[01])\[(0|1)\]\.xyzw, r\d+\.xyzw$\n
^\s*mad r\d+\.xyzw, r\d+\.[xyzw]{4}, (?P=cb)\[2\]\.xyzw, r\d+\.xyzw$\n
)
(?P<section2>
^\s*add (?P<pos0>r\d+)\.xyzw, r\d+\.xyzw, (?P=cb)\[3\]\.xyzw$\n
)
[ShaderRegexHaloPS1Simple_1.Pattern.Replace]
${section1}\n
//Pattern break.\n
${section2}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.w, -${stereo}.y\n
mad ${pos0}.x, ${stereo}.x, ${tmp1}.x, ${pos0}.x\n
[ShaderRegexHaloPS1Simple_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS1Simple_2]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexHaloPS1Simple_2.Pattern]
(?P<section1>
^\s*mad r\d+\.xyzw, r\d+\.[xyzw]{4}, (?P<cb>cb[01])\[(0|1)\]\.xyzw, r\d+\.xyzw$\n
^\s*mad r\d+\.xyzw, r\d+\.[xyzw]{4}, (?P=cb)\[2\]\.xyzw, r\d+\.xyzw$\n
)
(?P<section2>
^\s*add (?P<pos0>r\d+)\.xyzw, r\d+\.xyzw, (?P=cb)\[3\]\.xyzw$\n
)
[ShaderRegexHaloPS1Simple_2.Pattern.Replace]
${section1}\n
//Pattern break.\n
${section2}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.w, -${stereo}.y\n
mad ${pos0}.x, ${stereo}.x, ${tmp1}.x, ${pos0}.x\n
[ShaderRegexHaloPS1Simple_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS1Simple_3]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexHaloPS1Simple_3.Pattern]
(?P<section1>
^\s*mad r\d+\.xyzw, r\d+\.[xyzw]{4}, (?P<cb>cb[01])\[(0|1)\]\.xyzw, r\d+\.xyzw$\n
^\s*mad r\d+\.xyzw, r\d+\.[xyzw]{4}, (?P=cb)\[2\]\.xyzw, r\d+\.xyzw$\n
)
(?P<section2>
^\s*add (?P<pos0>r\d+)\.xyzw, r\d+\.xyzw, (?P=cb)\[3\]\.xyzw$\n
)
[ShaderRegexHaloPS1Simple_3.Pattern.Replace]
${section1}\n
//Pattern break.\n
${section2}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.w, -${stereo}.y\n
mad ${pos0}.x, ${stereo}.x, ${tmp1}.x, ${pos0}.x\n
[ShaderRegexHaloPS1Simple_3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS1Simple_4]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexHaloPS1Simple_4.Pattern]
(?P<section1>
^\s*mad r\d+\.xyzw, r\d+\.[xyzw]{4}, (?P<cb>cb[01])\[(0|1)\]\.xyzw, r\d+\.xyzw$\n
^\s*mad r\d+\.xyzw, r\d+\.[xyzw]{4}, (?P=cb)\[2\]\.xyzw, r\d+\.xyzw$\n
)
(?P<section2>
^\s*add (?P<pos0>r\d+)\.xyzw, r\d+\.xyzw, (?P=cb)\[3\]\.xyzw$\n
)
[ShaderRegexHaloPS1Simple_4.Pattern.Replace]
${section1}\n
//Pattern break.\n
${section2}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.w, -${stereo}.y\n
mad ${pos0}.x, ${stereo}.x, ${tmp1}.x, ${pos0}.x\n
[ShaderRegexHaloPS1Simple_4.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS1Simple_5]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexHaloPS1Simple_5.Pattern]
(?P<section1>
^\s*mad r\d+\.xyzw, r\d+\.[xyzw]{4}, (?P<cb>cb[01])\[(0|1)\]\.xyzw, r\d+\.xyzw$\n
^\s*mad r\d+\.xyzw, r\d+\.[xyzw]{4}, (?P=cb)\[2\]\.xyzw, r\d+\.xyzw$\n
)
(?P<section2>
^\s*add (?P<pos0>r\d+)\.xyzw, r\d+\.xyzw, (?P=cb)\[3\]\.xyzw$\n
)
[ShaderRegexHaloPS1Simple_5.Pattern.Replace]
${section1}\n
//Pattern break.\n
${section2}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.w, -${stereo}.y\n
mad ${pos0}.x, ${stereo}.x, ${tmp1}.x, ${pos0}.x\n
[ShaderRegexHaloPS1Simple_5.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS1Simple_6]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexHaloPS1Simple_6.Pattern]
(?P<section1>
^\s*mad r\d+\.xyzw, r\d+\.[xyzw]{4}, (?P<cb>cb[01])\[(0|1)\]\.xyzw, r\d+\.xyzw$\n
^\s*mad r\d+\.xyzw, r\d+\.[xyzw]{4}, (?P=cb)\[2\]\.xyzw, r\d+\.xyzw$\n
)
(?P<section2>
^\s*add (?P<pos0>r\d+)\.xyzw, r\d+\.xyzw, (?P=cb)\[3\]\.xyzw$\n
)
[ShaderRegexHaloPS1Simple_6.Pattern.Replace]
${section1}\n
//Pattern break.\n
${section2}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.w, -${stereo}.y\n
mad ${pos0}.x, ${stereo}.x, ${tmp1}.x, ${pos0}.x\n
[ShaderRegexHaloPS1Simple_6.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125



[ShaderRegexHaloPS2Simple_1]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexHaloPS2Simple_1.Pattern]
(?P<section1>
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, (?P<cb>cb[01])\[(0|1)\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.xyz, r\d+\.[xyzw]{4}, (?P=cb)\[2\]\.xywx, r\d+\.xywx$\n
)
(?P<section2>
^\s*add (?P<pos0>r\d+)\.xyz, r\d+\.xyzx, (?P=cb)\[3\]\.xywx$\n
)
[ShaderRegexHaloPS2Simple_1.Pattern.Replace]
${section1}\n
//Pattern break.\n
${section2}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.z, -${stereo}.y\n
mad ${pos0}.x, ${stereo}.x, ${tmp1}.x, ${pos0}.x\n
[ShaderRegexHaloPS2Simple_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS2Simple_2]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexHaloPS2Simple_2.Pattern]
(?P<section1>
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, (?P<cb>cb[01])\[(0|1)\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.xyz, r\d+\.[xyzw]{4}, (?P=cb)\[2\]\.xywx, r\d+\.xywx$\n
)
(?P<section2>
^\s*add (?P<pos0>r\d+)\.xyz, r\d+\.xyzx, (?P=cb)\[3\]\.xywx$\n
)
[ShaderRegexHaloPS2Simple_2.Pattern.Replace]
${section1}\n
//Pattern break.\n
${section2}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.z, -${stereo}.y\n
mad ${pos0}.x, ${stereo}.x, ${tmp1}.x, ${pos0}.x\n
[ShaderRegexHaloPS2Simple_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS2Simple_3]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexHaloPS2Simple_3.Pattern]
(?P<section1>
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, (?P<cb>cb[01])\[(0|1)\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.xyz, r\d+\.[xyzw]{4}, (?P=cb)\[2\]\.xywx, r\d+\.xywx$\n
)
(?P<section2>
^\s*add (?P<pos0>r\d+)\.xyz, r\d+\.xyzx, (?P=cb)\[3\]\.xywx$\n
)
[ShaderRegexHaloPS2Simple_3.Pattern.Replace]
${section1}\n
//Pattern break.\n
${section2}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.z, -${stereo}.y\n
mad ${pos0}.x, ${stereo}.x, ${tmp1}.x, ${pos0}.x\n
[ShaderRegexHaloPS2Simple_3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS2Simple_4]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexHaloPS2Simple_4.Pattern]
(?P<section1>
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, (?P<cb>cb[01])\[(0|1)\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.xyz, r\d+\.[xyzw]{4}, (?P=cb)\[2\]\.xywx, r\d+\.xywx$\n
)
(?P<section2>
^\s*add (?P<pos0>r\d+)\.xyz, r\d+\.xyzx, (?P=cb)\[3\]\.xywx$\n
)
[ShaderRegexHaloPS2Simple_4.Pattern.Replace]
${section1}\n
//Pattern break.\n
${section2}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.z, -${stereo}.y\n
mad ${pos0}.x, ${stereo}.x, ${tmp1}.x, ${pos0}.x\n
[ShaderRegexHaloPS2Simple_4.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS2Simple_5]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexHaloPS2Simple_5.Pattern]
(?P<section1>
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, (?P<cb>cb[01])\[(0|1)\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.xyz, r\d+\.[xyzw]{4}, (?P=cb)\[2\]\.xywx, r\d+\.xywx$\n
)
(?P<section2>
^\s*add (?P<pos0>r\d+)\.xyz, r\d+\.xyzx, (?P=cb)\[3\]\.xywx$\n
)
[ShaderRegexHaloPS2Simple_5.Pattern.Replace]
${section1}\n
//Pattern break.\n
${section2}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.z, -${stereo}.y\n
mad ${pos0}.x, ${stereo}.x, ${tmp1}.x, ${pos0}.x\n
[ShaderRegexHaloPS2Simple_5.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexHaloPS2Simple_6]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexHaloPS2Simple_6.Pattern]
(?P<section1>
^\s*mad r\d+\.[xyzw]{3}, r\d+\.[xyzw]{4}, (?P<cb>cb[01])\[(0|1)\]\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*mad r\d+\.xyz, r\d+\.[xyzw]{4}, (?P=cb)\[2\]\.xywx, r\d+\.xywx$\n
)
(?P<section2>
^\s*add (?P<pos0>r\d+)\.xyz, r\d+\.xyzx, (?P=cb)\[3\]\.xywx$\n
)
[ShaderRegexHaloPS2Simple_6.Pattern.Replace]
${section1}\n
//Pattern break.\n
${section2}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos0}.z, -${stereo}.y\n
mad ${pos0}.x, ${stereo}.x, ${tmp1}.x, ${pos0}.x\n
[ShaderRegexHaloPS2Simple_6.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125


;------- End of multiple halos that fix SSR or similar things -----------


[ShaderRegexDP4MovCS1]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexDP4MovCS1.Pattern]
(?P<section0>
^\s*?mul (?P<pos1>r\d+)\.(?P<pos1_x>[xyzw])(?P<pos1_y>[xyzw]), (?P<depth>-?r\d+)\.(?P<depth_x>[xyzw]){4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*?mad (?P<pos2>r\d+)\.xyw, (?P<cb>cb\d+)\[65\]\.xyxz, l\(2097152\.000000, 2097152\.000000, 0\.000000, 2097152\.000000\), (?P=cb)\[55\]\.xyxz$\n
)
(?P<section2>
^\s*?mov (?P=pos1)\.w, l\(1\.000000\)$\n
^\s*?mov (?P<posm1>r\d+)\.x, (?P=cb)\[\d+\]\.x$\n
^\s*?mov (?P=posm1)\.y, (?P=cb)\[\d+\]\.x$\n
^\s*?mov (?P=posm1)\.z, (?P=cb)\[\d+\]\.x$\n
^\s*?mov (?P=posm1)\.w, r\d+\.[xyzw]$\n
^\s*?dp4 (?P<posdp1>r\d+)\.x, (?P=pos1)\.[xyzw]{4}, (?P=posm1)\.xyzw$\n
^\s*?mov (?P<posm2>r\d+)\.x, (?P=cb)\[\d+\]\.y$\n
^\s*?mov (?P=posm2)\.y, (?P=cb)\[\d+\]\.y$\n
^\s*?mov (?P=posm2)\.z, (?P=cb)\[\d+\]\.y$\n
^\s*?mov (?P=posm2)\.w, r\d+\.[xyzw]$\n
^\s*?dp4 (?P=posdp1)\.y, (?P=pos1)\.[xyzw]{4}, (?P=posm2)\.xyzw$\n
^\s*?mov (?P=pos2)\.x, (?P=cb)\[\d+\]\.z$\n
^\s*?mov (?P=pos2)\.y, (?P=cb)\[\d+\]\.z$\n
^\s*?mov (?P=pos2)\.z, (?P=cb)\[\d+\]\.z$\n
^\s*?dp4 (?P=posdp1)\.z, (?P=pos1)\.[xyzw]{4}, (?P=pos2)\.xyzw$\n
)
(?P<section3>
^\s*?mad r\d+\.[xyzw]{3}, (?P=cb)\[64\]\.[xyzw]{4}, l\(-?\d+\.000000, -?\d+\.000000, -?\d+\.000000, -?\d+\.000000\), (?P=cb)\[\d+\].[xyzw]{4}$\n
)

[ShaderRegexDP4MovCS1.Pattern.Replace]
\n
mov ${tmp1}.x, ${depth}.${depth_x}\n
${section0}\n
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
mad ${pos1}.${pos1_x}, -${stereo}.x, ${tmp1}.x, ${pos1}.${pos1_x}\n
${section2}\n
${section3}

[ShaderRegexDP4MovCS1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125



[ShaderRegexDP4MovCS1_nospec]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexDP4MovCS1_nospec.Pattern]
(?P<section0>
^\s*?mul (?P<pos1>r\d+)\.(?P<pos1_x>[xyzw])(?P<pos1_y>[xyzw]), (?P<depth>-?r\d+)\.(?P<depth_x>[xyzw]){4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*?mad (?P<pos2>r\d+)\.xyw, (?P<cb>cb\d+)\[65\]\.xyxz, l\(2097152\.000000, 2097152\.000000, 0\.000000, 2097152\.000000\), (?P=cb)\[55\]\.xyxz$\n
)
(?P<section2>
^\s*?mov (?P=pos1)\.w, l\(1\.000000\)$\n
^\s*?mov (?P<posm1>r\d+)\.x, (?P=cb)\[\d+\]\.x$\n
^\s*?mov (?P=posm1)\.y, (?P=cb)\[\d+\]\.x$\n
^\s*?mov (?P=posm1)\.z, (?P=cb)\[\d+\]\.x$\n
^\s*?mov (?P=posm1)\.w, r\d+\.[xyzw]$\n
^\s*?dp4 (?P<posdp1>r\d+)\.x, (?P=pos1)\.[xyzw]{4}, (?P=posm1)\.xyzw$\n
^\s*?mov (?P<posm2>r\d+)\.x, (?P=cb)\[\d+\]\.y$\n
^\s*?mov (?P=posm2)\.y, (?P=cb)\[\d+\]\.y$\n
^\s*?mov (?P=posm2)\.z, (?P=cb)\[\d+\]\.y$\n
^\s*?mov (?P=posm2)\.w, r\d+\.[xyzw]$\n
^\s*?dp4 (?P=posdp1)\.y, (?P=pos1)\.[xyzw]{4}, (?P=posm2)\.xyzw$\n
^\s*?mov (?P=pos2)\.x, (?P=cb)\[\d+\]\.z$\n
^\s*?mov (?P=pos2)\.y, (?P=cb)\[\d+\]\.z$\n
^\s*?mov (?P=pos2)\.z, (?P=cb)\[\d+\]\.z$\n
^\s*?dp4 (?P=posdp1)\.z, (?P=pos1)\.[xyzw]{4}, (?P=pos2)\.xyzw$\n
)

[ShaderRegexDP4MovCS1_nospec.Pattern.Replace]
\n
mov ${tmp1}.x, ${depth}.${depth_x}\n
${section0}\n
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.y, ${tmp1}.x, -${stereo}.y\n
mad ${pos1}.${pos1_x}, -${stereo}.x, ${tmp1}.y, ${pos1}.${pos1_x}\n
${section2}

[ShaderRegexDP4MovCS1_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125



[ShaderRegexDP4MovCS2_nospec]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexDP4MovCS2_nospec.Pattern]
(?P<section0>
^\s*?mul (?P<pos1>r\d+)\.(?P<pos1_x>[xyzw])(?P<pos1_y>[xyzw]), (?P<depth>-?r\d+)\.(?P<depth_x>[xyzw]){4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*?mad (?P<pos2>r\d+)\.xyw, (?P<cb>cb\d+)\[65\]\.xyxz, l\(2097152\.000000, 2097152\.000000, 0\.000000, 2097152\.000000\), (?P=cb)\[55\]\.xyxz$\n
)
(?P<section2>
^\s*?mov (?P=pos1)\.z, r\d+.[xyzw]$\n
^\s*?mov (?P=pos1)\.w, l\(1\.000000\)$\n
^\s*?mov (?P<posm1>r\d+)\.x, (?P=cb)\[\d+\]\.x$\n
^\s*?mov (?P=posm1)\.y, (?P=cb)\[\d+\]\.x$\n
^\s*?mov (?P=posm1)\.z, (?P=cb)\[\d+\]\.x$\n
^\s*?mov (?P=posm1)\.w, r\d+\.[xyzw]$\n
^\s*?dp4 (?P<posdp1>r\d+)\.x, (?P=pos1)\.[xyzw]{4}, (?P=posm1)\.xyzw$\n
^\s*?mov (?P<posm2>r\d+)\.x, (?P=cb)\[\d+\]\.y$\n
^\s*?mov (?P=posm2)\.y, (?P=cb)\[\d+\]\.y$\n
^\s*?mov (?P=posm2)\.z, (?P=cb)\[\d+\]\.y$\n
^\s*?mov (?P=posm2)\.w, r\d+\.[xyzw]$\n
^\s*?dp4 (?P=posdp1)\.y, (?P=pos1)\.[xyzw]{4}, (?P=posm2)\.xyzw$\n
^\s*?mov (?P=pos2)\.x, (?P=cb)\[\d+\]\.z$\n
^\s*?mov (?P=pos2)\.y, (?P=cb)\[\d+\]\.z$\n
^\s*?mov (?P=pos2)\.z, (?P=cb)\[\d+\]\.z$\n
^\s*?dp4 (?P=posdp1)\.z, (?P=pos1)\.[xyzw]{4}, (?P=pos2)\.xyzw$\n
)

[ShaderRegexDP4MovCS2_nospec.Pattern.Replace]
\n
mov ${tmp1}.x, ${depth}.${depth_x}\n
${section0}\n
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.y, ${tmp1}.x, -${stereo}.y\n
mad ${pos1}.${pos1_x}, -${stereo}.x, ${tmp1}.y, ${pos1}.${pos1_x}\n
${section2}

[ShaderRegexDP4MovCS2_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125




[ShaderRegexDP4MovCS3_nospec]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexDP4MovCS3_nospec.Pattern]
(?P<section0>
^\s*?mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), (?P<depth>-?r\d+)\.(?P<depth_x>[xyzw]){4}, r\d+\.[xyzw]{4}$\n
)
(?P<section1>
^\s*?mul (?P<pos1>r\d+)\.xy, (?P=pos0)\.[xyzw]{4}, l\(-?\d\.000000, -?\d\.000000, -?\d\.000000, -?\d\.000000\)$\n
^\s*?mad (?P<pos2>r\d+)\.xyw, (?P<cb>cb\d+)\[65\]\.xyxz, l\(2097152\.000000, 2097152\.000000, 0\.000000, 2097152\.000000\), (?P=cb)\[55\]\.xyxz$\n
)
(?P<section2>
^\s*?mov (?P=pos1)\.w, l\(1\.000000\)$\n
^\s*?mov (?P<posm1>r\d+)\.x, (?P=cb)\[\d+\]\.x$\n
^\s*?mov (?P=posm1)\.y, (?P=cb)\[\d+\]\.x$\n
^\s*?mov (?P=posm1)\.z, (?P=cb)\[\d+\]\.x$\n
^\s*?mov (?P=posm1)\.w, r\d+\.[xyzw]$\n
^\s*?dp4 (?P<posdp1>r\d+)\.x, (?P=pos1)\.[xyzw]{4}, (?P=posm1)\.xyzw$\n
^\s*?mov (?P<posm2>r\d+)\.x, (?P=cb)\[\d+\]\.y$\n
^\s*?mov (?P=posm2)\.y, (?P=cb)\[\d+\]\.y$\n
^\s*?mov (?P=posm2)\.z, (?P=cb)\[\d+\]\.y$\n
^\s*?mov (?P=posm2)\.w, r\d+\.[xyzw]$\n
^\s*?dp4 (?P=posdp1)\.y, (?P=pos1)\.[xyzw]{4}, (?P=posm2)\.xyzw$\n
^\s*?mov (?P=pos2)\.x, (?P=cb)\[\d+\]\.z$\n
^\s*?mov (?P=pos2)\.y, (?P=cb)\[\d+\]\.z$\n
^\s*?mov (?P=pos2)\.z, (?P=cb)\[\d+\]\.z$\n
^\s*?dp4 (?P=posdp1)\.z, (?P=pos1)\.[xyzw]{4}, (?P=pos2)\.xyzw$\n
)

[ShaderRegexDP4MovCS3_nospec.Pattern.Replace]
${section0}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.y, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.y, ${pos0}.${pos0_x}\n
${section1}\n
${section2}

[ShaderRegexDP4MovCS3_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125



[ShaderRegexDP4MovCS4_nospec]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1

[ShaderRegexDP4MovCS4_nospec.Pattern]
(?P<section0>
^\s*?mul (?P<pos1>r\d+)\.(?P<pos1_x>[xyzw])(?P<pos1_y>[xyzw]), (?P<depth>-?r\d+)\.(?P<depth_x>[xyzw]){4}, r\d+\.[xyzw]{4}$\n
^\s*?mov (?P=pos1)\.w, l\(1\.000000\)$\n
)
(?P<section1>
^\s*?mad (?P<pos2>r\d+)\.xyw, (?P<cb>cb\d+)\[65\]\.xyxz, l\(2097152\.000000, 2097152\.000000, 0\.000000, 2097152\.000000\), (?P=cb)\[55\]\.xyxz$\n
)
(?P<section2>
^\s*?mov (?P<posm1>r\d+)\.w, r\d+\.[xyzw]$\n
^\s*?mov (?P=posm1)\.x, (?P=cb)\[\d+\]\.x$\n
^\s*?mov (?P=posm1)\.y, (?P=cb)\[\d+\]\.x$\n
^\s*?mov (?P=posm1)\.z, (?P=cb)\[\d+\]\.x$\n
^\s*?dp4 (?P<posdp1>r\d+)\.x, (?P=pos1)\.[xyzw]{4}, (?P=posm1)\.xyzw$\n
^\s*?mov (?P<posm2>r\d+)\.w, r\d+\.[xyzw]$\n
^\s*?mov (?P=posm2)\.x, (?P=cb)\[\d+\]\.y$\n
^\s*?mov (?P=posm2)\.y, (?P=cb)\[\d+\]\.y$\n
^\s*?mov (?P=posm2)\.z, (?P=cb)\[\d+\]\.y$\n
^\s*?dp4 (?P=posdp1)\.y, (?P=pos1)\.[xyzw]{4}, (?P=posm2)\.xyzw$\n
^\s*?mov (?P=pos2)\.x, (?P=cb)\[\d+\]\.z$\n
^\s*?mov (?P=pos2)\.y, (?P=cb)\[\d+\]\.z$\n
^\s*?mov (?P=pos2)\.z, (?P=cb)\[\d+\]\.z$\n
^\s*?dp4 (?P=posdp1)\.z, (?P=pos1)\.[xyzw]{4}, (?P=pos2)\.xyzw$\n
)

[ShaderRegexDP4MovCS4_nospec.Pattern.Replace]
\n
mov ${tmp1}.x, ${depth}.${depth_x}\n
${section0}\n
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.y, ${tmp1}.x, -${stereo}.y\n
mad ${pos1}.${pos1_x}, -${stereo}.x, ${tmp1}.y, ${pos1}.${pos1_x}\n
${section2}

[ShaderRegexDP4MovCS4_nospec.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125



;------- Multiple dp4 fixes -----------


[ShaderRegexDP4Lighting_1]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_1.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mov (?P=pos0)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_1.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_2]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_2.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mov (?P=pos0)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_2.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_3]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_3.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mov (?P=pos0)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_3.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_4]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_4.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mov (?P=pos0)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_4.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_4.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_5]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_5.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mov (?P=pos0)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_5.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_5.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_6]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_6.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mov (?P=pos0)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_6.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_6.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125






[ShaderRegexDP4Lighting_r1]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_r1.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), r\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*mov (?P=pos0)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_r1.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_r1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_r2]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_r2.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), r\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*mov (?P=pos0)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_r2.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_r2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_r3]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_r3.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), r\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*mov (?P=pos0)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_r3.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_r3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_r4]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_r4.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), r\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*mov (?P=pos0)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_r4.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_r4.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_r5]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_r5.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), r\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*mov (?P=pos0)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_r5.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_r5.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_r6]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_r6.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), r\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*mov (?P=pos0)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_r6.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_r6.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125



[ShaderRegexDP4Lighting_nomov1]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_nomov1.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_nomov1.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_nomov1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_nomov2]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_nomov2.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_nomov2.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_nomov2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_nomov3]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_nomov3.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_nomov3.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_nomov3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_nomov4]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_nomov4.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_nomov4.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_nomov4.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_nomov5]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_nomov5.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_nomov5.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_nomov5.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_nomov6]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_nomov6.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_nomov6.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_nomov6.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125






[ShaderRegexDP4Lighting_nomovr1]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_nomovr1.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), r\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_nomovr1.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_nomovr1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_nomovr2]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_nomovr2.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), r\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_nomovr2.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_nomovr2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_nomovr3]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_nomovr3.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), r\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_nomovr3.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_nomovr3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_nomovr4]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_nomovr4.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), r\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_nomovr4.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_nomovr4.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_nomovr5]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_nomovr5.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), r\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_nomovr5.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_nomovr5.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4Lighting_nomovr6]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4Lighting_nomovr6.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw]), r\d+\.[xyzw]{4}, (?P<depth>r\d+)\.(?P<depth_x>[xyzw])(?P=depth_x){3}$\n
)
(?P<section2>
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos0)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], r\d+\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4Lighting_nomovr6.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${depth}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4Lighting_nomovr6.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125





[ShaderRegexDP4LightingMul_1]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4LightingMul_1.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw])([xyzw]?), (?P<pos1>r\d+)\.(?P<depth_x>[xyzw])[xyzw]{3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul (?P=pos1)\.[xyzw]{2}, (?P=pos0)\.[xyzw]{4}, l\(2\.000000, -2\.000000, 0\.000000, 0\.000000\)$\n
^\s*mov (?P=pos1)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4LightingMul_1.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos1}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4LightingMul_1.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4LightingMul_2]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4LightingMul_2.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw])([xyzw]?), (?P<pos1>r\d+)\.(?P<depth_x>[xyzw])[xyzw]{3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul (?P=pos1)\.[xyzw]{2}, (?P=pos0)\.[xyzw]{4}, l\(2\.000000, -2\.000000, 0\.000000, 0\.000000\)$\n
^\s*mov (?P=pos1)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4LightingMul_2.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos1}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4LightingMul_2.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4LightingMul_3]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4LightingMul_3.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw])([xyzw]?), (?P<pos1>r\d+)\.(?P<depth_x>[xyzw])[xyzw]{3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul (?P=pos1)\.[xyzw]{2}, (?P=pos0)\.[xyzw]{4}, l\(2\.000000, -2\.000000, 0\.000000, 0\.000000\)$\n
^\s*mov (?P=pos1)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4LightingMul_3.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos1}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4LightingMul_3.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4LightingMul_4]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4LightingMul_4.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw])([xyzw]?), (?P<pos1>r\d+)\.(?P<depth_x>[xyzw])[xyzw]{3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul (?P=pos1)\.[xyzw]{2}, (?P=pos0)\.[xyzw]{4}, l\(2\.000000, -2\.000000, 0\.000000, 0\.000000\)$\n
^\s*mov (?P=pos1)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4LightingMul_4.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos1}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4LightingMul_4.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4LightingMul_5]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4LightingMul_5.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw])([xyzw]?), (?P<pos1>r\d+)\.(?P<depth_x>[xyzw])[xyzw]{3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul (?P=pos1)\.[xyzw]{2}, (?P=pos0)\.[xyzw]{4}, l\(2\.000000, -2\.000000, 0\.000000, 0\.000000\)$\n
^\s*mov (?P=pos1)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4LightingMul_5.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos1}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4LightingMul_5.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125

[ShaderRegexDP4LightingMul_6]
shader_model = ps_5_0 cs_5_0
temps = stereo tmp1
[ShaderRegexDP4LightingMul_6.Pattern]
(?P<section1>
^\s*mul (?P<pos0>r\d+)\.(?P<pos0_x>[xyzw])(?P<pos0_y>[xyzw])([xyzw]?), (?P<pos1>r\d+)\.(?P<depth_x>[xyzw])[xyzw]{3}, r\d+\.[xyzw]{4}$\n
)
(?P<section2>
^\s*mul (?P=pos1)\.[xyzw]{2}, (?P=pos0)\.[xyzw]{4}, l\(2\.000000, -2\.000000, 0\.000000, 0\.000000\)$\n
^\s*mov (?P=pos1)\.[xyzw], l\(1\.000000\)$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
^\s*dp4 r\d+\.[xyzw], (?P=pos1)\.[xyzw]{4}, r\d+\.[xyzw]{4}$\n
)
[ShaderRegexDP4LightingMul_6.Pattern.Replace]
${section1}\n
ld_indexable(texture2d)(float,float,float,float) ${stereo}.xyzw, l(0, 0, 0, 0), t125.xyzw\n
add ${tmp1}.x, ${pos1}.${depth_x}, -${stereo}.y\n
mad ${pos0}.${pos0_x}, -${stereo}.x, ${tmp1}.x, ${pos0}.${pos0_x}\n
${section2}
[ShaderRegexDP4LightingMul_6.InsertDeclarations]
dcl_resource_texture2d (float,float,float,float) t125


